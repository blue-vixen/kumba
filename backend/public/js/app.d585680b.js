(function(t){function e(e){for(var a,n,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&p.push(r[n][0]),r[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},r={app:0},i=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0279":function(t,e,s){t.exports=s.p+"img/3.f718d112.jpg"},"0f5f":function(t,e,s){t.exports=s.p+"img/20.a718dcfd.jpg"},"1e89":function(t,e,s){t.exports=s.p+"img/19.a6315c9b.jpg"},"237f":function(t,e,s){t.exports=s.p+"img/15.2b7b367f.jpg"},"286d":function(t,e,s){t.exports=s.p+"img/tr1.9f510715.jpg"},"2b9d":function(t,e,s){t.exports=s.p+"img/17.faa00e76.jpg"},"2ff5":function(t,e,s){t.exports=s.p+"img/tr4.97fd54e3.jpg"},"360d":function(t,e,s){t.exports=s.p+"img/13.4cac2df7.jpg"},"362e":function(t,e,s){t.exports=s.p+"img/16.42e10b02.jpg"},3984:function(t,e,s){t.exports=s.p+"img/14.18a17e4d.jpg"},"3baf":function(t,e,s){"use strict";s("bb9f")},"3c88":function(t,e,s){t.exports=s.p+"img/1.6ec254c0.jpg"},"3dda":function(t,e,s){t.exports=s.p+"img/SAN4.1be9df5b.jpg"},"3f63":function(t,e,s){t.exports=s.p+"img/4.e87cdc94.jpg"},"409f":function(t,e,s){t.exports=s.p+"img/5.28dbffb9.jpg"},"43ce":function(t,e,s){t.exports=s.p+"img/paris.daab4d0c.jpg"},"4d41":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAllBMVEVmb3pncHtIWGVnb3pJWWZjbXhIWGZncHpfanVSYGxNXGlZZXFYZHBOXWpLWmdkbnlga3ZPXmpibHdKWmZKWmdMW2hLW2hTYW1VYm5ia3dlbnlOXWlIWWVLW2dNXGhha3ZkbXhQXmtXZHBbZnJRX2xcZ3NbZ3NOXGlcaHNdaHNeaHRjbHdganZha3ddaHRPXWplb3pIWWY/qDS5AAABa0lEQVR4XtXVx66cQBCG0fqrEzlOznNzDu//crYGqcUdcFOyvPG35kigaqrpf8sBjuQRyFRRVBmCFDRZvde/29dZI0NZwawvMReZRCxZ9+LlJFCrTvh4pcICzzt91e4ZYVPzNeE6CFykR4pcgOCGh4JvECLxGIlDhHI7JDYPiU2iR0o2f0H+7Yup8c9XAYJ0jKQIELWeDclsrUgwGPlYCJEeFIUJYXj4QROV2x+GtyVN5Y6LnuHF0dFkqA7e8KECCYJJbCdsYkCi8MAd4QeQMFN0pDAk7bToyOIkAwr+pHEKqEkA1aRn7TunjUIIwJnbuxn358Kzu1vj/qRQ3sd+HfdVEd+XGAXZ3D8/UPNsiBA9sg7Ej9GVwVPLOhi3Tz8MXrSgl55Rr3M7Lez8VXmCJWtBvIQXb1rYG3o/ryheIbhWQ6tWvbdS0r6rC8EHSwl/wF9dsvyF5mI5iR1d+rRSYj878ZV/S8l3/kX0C5XaHY3ryl0IAAAAAElFTkSuQmCC"},5407:function(t,e,s){t.exports=s.p+"img/10.c65973bd.jpg"},5518:function(t,e,s){t.exports=s.p+"img/TA1.98f57345.jpg"},"555a":function(t,e,s){t.exports=s.p+"img/icon.87aaaf2a.png"},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("b0c0");var a,r=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("app-header"),s("user-msg"),s("router-view"),s("app-footer")],1)},n=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"main-header",class:{details:t.stayDetails,fullheader:!t.miniFilter&&(t.homePage||t.explore),top:t.topOfPage,"explore-page":t.explore,"home-page":t.homePage}},[a("div",{staticClass:"notify-modal alert",class:{showNotes:t.notify},on:{click:t.killModal}},[a("p",[t._v("You have a new message!")]),a("p",[t._v("You order to Adadouf's house has been approved by Adi Adadouf.")]),a("a",{attrs:{href:"#/dashboard"}},[t._v("Show more")])]),a("section",{staticClass:"main-header-container flex space-between"},[a("div",{staticClass:"logo clickable flex align-center",on:{click:function(e){return e.stopPropagation(),t.goHome.apply(null,arguments)}}},[a("h1",{staticClass:"logo-txt"},[t._v("Kumb")])]),a("button",{staticClass:"mini-filter flex space-between align-center clickable",class:{hide:!t.miniFilter,hideFilter:t.hideFilter},on:{click:function(e){t.miniFilter=!t.miniFilter}}},[t._v(" "+t._s(t.currDest)+" "),a("span")]),a("div",{staticClass:"nav flex align-center justify-center"},[a("router-link",{attrs:{to:"/explore"}},[t._v("Explore")]),a("router-link",{attrs:{to:"/host"}},[t._v("Become a Host")]),a("div",{staticClass:"notifications-container"},[a("span",{staticClass:"material-icons notification-btn",on:{click:this.openNotifications}},[t._v(" notifications ")])]),this.isNotificationsModal?a("div",{staticClass:"main-screen",on:{click:this.openNotifications}}):t._e(),this.isNotificationsModal?a("section",{staticClass:"notifications-modal-container"},[a("div",{staticClass:"notifications-modal"},[a("div",{staticClass:"header-notifi"},[t._v("Notifications")]),t._l(t.notifications,(function(e,s){return a("div",{key:s,staticClass:"notifications-cards flex gray-box-shadow align-center"},[a("img",{staticClass:"host-img",attrs:{src:e.from.imgUrl,alt:""}}),a("div",{staticClass:"card-details"},[a("div",{staticClass:"host-details"},[t._v(" "+t._s(e.from.stayName)+" ")]),a("div",{staticClass:"notif-card"},[a("h4",{staticClass:"notifications-card-txt"},[t._v(" "+t._s(e.txt)+" ")]),a("h5",{staticClass:"notifications-timer"},[t._v(t._s(t.getCreatedTime(s)))])])])])})),0===t.notifications.length?a("div",{staticClass:"no-notifications"},[a("div",{staticClass:"separator"}),a("div",[t._v("You have no new notifications")])]):t._e()],2)]):t._e(),a("button",{staticClass:"user-menu-btn clickable flex align-center clickable",on:{click:function(e){t.shouldShow=!t.shouldShow}}},[t.currUser?a("span",[t.currUser&&!t.hasImg?a("img",{staticClass:"avatar",attrs:{src:s("4d41")}}):t._e(),t.currUser&&t.hasImg?a("img",{staticClass:"avatar",attrs:{src:t.loggedinUser.imgUrl}}):t._e()]):a("span",{staticClass:"material-icons-round"},[t._v(" account_circle ")])])],1)]),t.shouldShow?a("div",{staticClass:"user-nav"},[a("div",{staticClass:"user-nav2"},[t.currUser?t._e():a("a",{attrs:{href:"#/login"}},[t._v("Log in")]),t.currUser?a("a",{staticClass:"a1",attrs:{href:"#/messages"}},[t._v("Messages")]):t._e(),t.currUser?a("a",{staticClass:"a1",attrs:{href:"#/trips"}},[t._v("Trips")]):t._e(),t.currUser?a("a",{staticClass:"a1 gray-box-shadow",attrs:{href:"#/wishList"}},[t._v("Wish List")]):t._e(),t.currUser&&t.loggedinUser.isHost?t._e():a("a",{attrs:{href:"#/host"}},[t._v("Host your home")]),t.currUser?a("a",{attrs:{href:"#/dashboard"}},[t._v("Dashboard")]):t._e(),t.currUser?a("a",{staticClass:"gray-box-shadow",attrs:{href:"#/account"}},[t._v("Account")]):t._e(),t.currUser?a("a",{staticClass:"clickable",on:{click:function(e){return e.stopPropagation(),t.logout.apply(null,arguments)}}},[t._v("Logout")]):t._e(),a("a",{attrs:{href:"#/about"}},[t._v("About")])])]):t._e(),a("stay-filter",{class:{hide:t.miniFilter,hideFilter:t.hideFilter}}),a("section",{staticClass:"mobile-nav"},[a("router-link",{staticClass:"active",attrs:{to:"/explore"}},[a("span",{staticClass:"material-icons-outlined"},[t._v(" search ")]),a("p",[t._v("Explore")])]),t._m(0),t._m(1),a("a",[a("span",{staticClass:"material-icons-outlined"},[t._v(" chat_bubble_outline ")]),a("p",[t._v("Inbox")]),t.notificationsCount>0?a("p",{staticClass:"notifications"},[t._v(" "+t._s(t.notificationsCount)+" ")]):t._e()]),t._m(2)],1)],1)},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"#/wishList"}},[s("span",{staticClass:"material-icons-outlined"},[t._v(" favorite_border ")]),s("p",[t._v("Wishlist")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"#/trips"}},[s("span",{staticClass:"trips"}),s("p",[t._v("Trips")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"#/account"}},[s("span",{staticClass:"material-icons-outlined"},[t._v(" account_circle ")]),s("p",[t._v("Profile")])])}],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"filter-container flex align-center justify-center"},[s("form",{staticClass:"max-filter flex space-between align-center",on:{submit:function(e){return e.preventDefault(),t.updateTrip.apply(null,arguments)}}},[s("div",{staticClass:"input-container first-container",on:{click:function(e){t.shouldShow=!1}}},[s("label",[t._v(" Location "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.destination,expression:"trip.destination"}],staticClass:"dropdown",attrs:{type:"search",list:"destination",placeholder:"Where are you going?"},domProps:{value:t.trip.destination},on:{input:function(e){e.target.composing||t.$set(t.trip,"destination",e.target.value)}}}),t._m(0)])]),s("div",{staticClass:"input-container",on:{click:function(e){t.shouldShow=!1}}},[s("trip-calendar-2",{attrs:{masks:this.masks},on:{updated:t.updateDates}})],1),s("div",{staticClass:"input-container flex column",on:{click:function(e){t.shouldShow=!t.shouldShow}}},[s("label",[t._v(" Guests "),s("input",{staticClass:"guests",attrs:{placeholder:t.numOfGuests,disabled:""}})]),s("button",{staticClass:"search-btn clickable",on:{click:function(e){return e.stopPropagation(),t.goExplore.apply(null,arguments)}}},[s("span",{staticClass:"material-icons-outlined"},[t._v(" search ")])])])]),t.shouldShow?s("div",{staticClass:"guests-modal flex column"},[s("div",{staticClass:"guest-type-label flex space-between align-center"},[t._m(1),s("div",{staticClass:"guest-btns flex align-center space-between"},[s("button",{attrs:{type:"button"},on:{click:function(e){return t.updateGuests("adults",-1)}}},[s("span",{staticClass:"material-icons-sharp"},[t._v(" remove ")])]),s("span",{staticClass:"guests-num"},[t._v(t._s(t.adults))]),s("button",{attrs:{type:"button"},on:{click:function(e){return t.updateGuests("adults",1)}}},[s("span",{staticClass:"material-icons-sharp"},[t._v(" add ")])])])]),s("div",{staticClass:"guest-type-label flex space-between align-center"},[t._m(2),s("div",{staticClass:"guest-btns flex align-center space-between"},[s("button",{attrs:{type:"button"},on:{click:function(e){return t.updateGuests("children",-1)}}},[s("span",{staticClass:"material-icons-sharp"},[t._v(" remove ")])]),s("span",{staticClass:"guests-num"},[t._v(t._s(t.children))]),s("button",{attrs:{type:"button"},on:{click:function(e){return t.updateGuests("children",1)}}},[s("span",{staticClass:"material-icons-sharp"},[t._v(" add ")])])])])]):t._e()])},u=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("datalist",{attrs:{id:"destination"}},[s("option",{attrs:{value:"Tel Aviv"}}),s("option",{attrs:{value:"Barcelona"}}),s("option",{attrs:{value:"Paris"}}),s("option",{attrs:{value:"Santorini"}}),s("option",{attrs:{value:"New York"}}),s("option",{attrs:{value:"Bali"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"guest-label flex column"},[s("span",[t._v("Adults")]),s("span",[t._v("Ages 13 or above")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"guest-label flex column"},[s("span",[t._v("Children")]),s("span",[t._v("Ages 2-12")])])}],d=s("ade3"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"calender"},[s("div",{staticClass:"block"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"","start-placeholder":"Start date","end-placeholder":"End date"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1)])},v=[],h={data:function(){return{pickerOptions:{shortcuts:[{text:"Last week",onClick:function(t){var e=new Date,s=new Date;s.setTime(s.getTime()-6048e5),t.$emit("pick",[s,e])}},{text:"Last month",onClick:function(t){var e=new Date,s=new Date;s.setTime(s.getTime()-2592e6),t.$emit("pick",[s,e])}},{text:"Last 3 months",onClick:function(t){var e=new Date,s=new Date;s.setTime(s.getTime()-7776e6),t.$emit("pick",[s,e])}}]},value1:"",value2:""}}},f=h,g=s("2877"),m=Object(g["a"])(f,p,v,!1,null,null,null),y=m.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"trip-calendar"},[s("form",{staticClass:"bg-white shadow-md rounded px-8 pt-6 pb-8",on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"mb-4"},[s("v-date-picker",{attrs:{mode:"date",masks:t.masks,"is-range":"",columns:2,"is-expanded":"",popover:{visibility:"click",visibility:"focus"},color:"gray"},on:{input:t.updateDates},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.inputValue,r=e.inputEvents,i=e.isDragging;return[s("div",{staticClass:"\n              flex flex-col\n              sm:flex-row\n              justify-start\n              items-center\n              dates-container\n            "},[s("div",{staticClass:"relative flex-grow checkin"},[s("svg",{staticClass:"\n                  text-gray-600\n                  w-4\n                  h-full\n                  mx-2\n                  absolute\n                  pointer-events-none\n                ",attrs:{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"currentColor"}},[s("path",{attrs:{d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}})]),s("label",[t._v("Check in "),s("input",t._g({ref:"dateInput",staticClass:"\n                    flex-grow\n                    pl-8\n                    pr-2\n                    py-1\n                    bg-gray-100\n                    border\n                    rounded\n                    w-full\n                  ",class:i?"text-gray-600":"text-gray-900",attrs:{placeholder:"Add dates"},domProps:{value:a.start}},r.start))])]),s("span",{staticClass:"flex-shrink-0 m-2"},[s("svg",{staticClass:"w-4 h-4 stroke-current text-gray-600",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"}})])]),s("div",{staticClass:"relative flex-grow checkout"},[s("svg",{staticClass:"\n                  text-gray-600\n                  w-4\n                  h-full\n                  mx-2\n                  absolute\n                  pointer-events-none\n                ",attrs:{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"currentColor"}},[s("path",{attrs:{d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}})]),s("label",[t._v("Check out "),s("input",t._g({staticClass:"\n                    flex-grow\n                    pl-8\n                    pr-2\n                    py-1\n                    bg-gray-100\n                    border\n                    rounded\n                    w-full\n                  ",class:i?"text-gray-600":"text-gray-900",attrs:{placeholder:"Add dates"},domProps:{value:a.end}},r.end))])])])]}}]),model:{value:t.range,callback:function(e){t.range=e},expression:"range"}})],1)])])},C=[],b={props:["dates","masks"],data:function(){return{range:{start:null,end:null},input:null}},methods:{updateDates:function(){this.$emit("updated",this.range)},focusInput:function(){this.input.focus(),this.$refs.dateInput.focus()}},created:function(){this.range=this.$store.getters.getDates},mounted:function(){var t=this;this.$nextTick((function(){t.input=t.$refs.dateInput}))}},w=b,x=(s("3baf"),Object(g["a"])(w,_,C,!1,null,"a530cdb8",null)),k=x.exports,O=s("86e3"),S=s.n(O),$=s("404b"),P=s.n($),T=(a={data:function(){return{range:null,trip:{guests:{adults:0,children:0},destination:null,dates:{}},shouldShow:!1,masks:{input:"DD MMM"}}},components:{tripCalendar:y,tripCalendar2:k,Calendar:S.a,DatePicker:P.a},computed:{currDest:function(){var t=this.$store.getters.getDest;return t||"Start your search"}},methods:{goExplore:function(){this.updateTrip(),this.$router.push("/explore?destination=".concat(this.trip.destination)).catch((function(){}))},updateGuests:function(t,e){0===this.trip.guests[t]&&-1===e||(this.trip.guests[t]+=e,this.updateTrip())},updateTrip:function(){var t=this.trip;this.$store.commit({type:"setTrip",trip:t})},updateDates:function(t){this.trip.dates=t,this.updateTrip()}},created:function(){this.trip=this.$store.getters.getCurrTrip}},Object(d["a"])(a,"computed",{numOfGuests:function(){var t=this.trip.guests.children+this.trip.guests.adults;return t>1?t+" guests":1===t?t+" guest":"Add guests"},children:function(){return null===this.trip.guests.children?0:this.trip.guests.children},adults:function(){return null===this.trip.guests.adults?0:this.trip.guests.adults}}),Object(d["a"])(a,"watch",{"$store.state.currTrip":{handler:function(){this.trip=this.$store.getters.getCurrTrip},immediate:!0,deep:!0}}),a),E=T,j=Object(g["a"])(E,l,u,!1,null,"61cf50a3",null),M=j.exports,A=(s("2909"),s("1da1")),U=(s("99af"),s("4de4"),s("d3b7"),s("159b"),s("96cf"),s("daa8")),D="order-about-you",L="order-updated",R="",F=B();function B(){var t=null,e={setup:function(){return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("here"),t=Object(U["a"])(R),console.log("here1");case 3:case"end":return e.stop()}}),e)})))()},on:function(e,s){t.on(e,s)},off:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(s?t.off(e,s):t.removeAllListeners(e))},emit:function(e,s){console.log("eventName",e),t.emit(e,s)},terminate:function(){t=null}};return e}window.socketService=F,F.setup();var I="show-msg",N=new r["default"];function H(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";N.$emit(I,{txt:t,type:e})}var G={data:function(){return{miniFilter:!1,shouldShow:!1,currPage:null,loggedinUser:null,hideFilter:!1,topOfPage:!0,isNotificationsModal:!1}},methods:{killModal:function(){this.$store.commit({type:"killModal"})},logout:function(){this.loggedinUser=null,this.$store.dispatch({type:"logout"}),this.goHome(),this.shouldShow=!1},goHome:function(){this.$router.push("/").catch((function(){}))},handleScroll:function(t){0===window.scrollY?(this.miniFilter=!1,this.topOfPage=!0):this.topOfPage=!1,window.scrollY>50&&(this.miniFilter=!0),"stayDetails"===this.currPage&&(this.miniFilter=!0)},closeModal:function(){this.shouldShow=!this.shouldShow},openNotifications:function(){this.isNotificationsModal=!this.isNotificationsModal,console.log(this.notifications)},getCreatedTime:function(t){var e=new Date(this.notifications[t].createdAt),s=e.getFullYear(),a=e.getMonth()+1,r=e.getDate(),i=e.getHours(),n=e.getMinutes();return console.log(e),r+"/"+a+"/"+s+" , "+i+":"+n}},computed:{lastNote:function(){return this.$store.getters.lastNotification?this.$store.getters.lastNotification:""},notify:function(){return this.$store.getters.notify},notifications:function(){return this.$store.getters.notifications},notificationsCount:function(){return this.$store.getters.notificationsCount},hasImg:function(){var t=this.$store.getters.loggedinUser;return!(!t||null===t.imgUrl)},currUser:function(){var t=this.$store.getters.loggedinUser;return!!t},currDest:function(){var t=this.$store.getters.getDest;return t||"Start your search"},stayDetails:function(){return"stayDetails"===this.currPage},explore:function(){return"explore"===this.currPage},homePage:function(){return"homePage"===this.currPage}},created:function(){window.addEventListener("scroll",this.handleScroll),this.loggedinUser=this.$store.getters.loggedinUser},updated:function(){this.loggedinUser=this.$store.getters.loggedinUser},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},components:{stayFilter:M,showMsg:H},watch:{"$store.state.currPage":{handler:function(){this.shouldShow=!1,this.currPage=this.$store.getters.currPage,this.miniFilter="homePage"!==this.currPage&&"explore"!==this.currPage,this.hideFilter="homePage"!==this.currPage&&"explore"!==this.currPage&&"stayDetails"!==this.currPage},immediate:!0,deep:!0},$route:{handler:function(){this.shouldShow=!1}}}},W=G,Y=Object(g["a"])(W,o,c,!1,null,null,null),z=Y.exports,J=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},V=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"footer-nav-container flex align-center space-between"},[s("div",{staticClass:"main-div flex align-center space-between"},[s("p",[s("span",[t._v("© 2021 Kumba")])]),s("span",[t._v("·")]),s("a",{attrs:{href:"#/about"}},[t._v("About")]),s("span",[t._v("·")]),s("a",{attrs:{href:"#/login"}},[t._v("Login")]),s("span",[t._v("·")]),s("a",{attrs:{href:"#/host"}},[t._v("Become a host")])]),s("div",{staticClass:"main-div flex align-center space-between"},[s("div",{staticClass:"i18n-div flex align-center space-between"},[s("span",{staticClass:"material-icons"},[t._v(" language ")]),s("span",[t._v("English (US)")]),s("span",[t._v("$ US")])]),s("div",{staticClass:"icon-div flex align-center space-between"},[s("i",{staticClass:"fa fa-facebook-f"}),s("i",{staticClass:"fa fa-twitter"}),s("i",{staticClass:"fa fa-instagram"})])])])}],q={name:"appFooter"},X=q,Z=Object(g["a"])(X,J,V,!1,null,null,null),K=Z.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.alive?s("div",{staticClass:"alert gray-box-shadow flex space-around ",class:{on:t.alive}},[t._v(" "+t._s(t.msg.txt)+" "),s("div",{staticClass:"msg-btns"},[s("button",{staticClass:"clean-btn clickable nice-btn",on:{click:t.goToLogin}},[t._v("Login")]),s("button",{staticClass:"clean-btn clickable nice-btn"},[t._v("Demo User")]),s("button",{staticClass:"clean-btn clickable close-modal",on:{click:t.closeIt}},[s("span",{staticClass:"material-icons"},[t._v(" close ")])])])]):t._e()},tt=[],et={created:function(){var t=this;N.$on(I,(function(e){t.msg=e;e.delay;t.alive=!0}))},data:function(){return{alive:!1,msg:null}},computed:{alertClass:function(){if(this.msg)return"alert-".concat(this.msg.type)}},methods:{goToLogin:function(){this.$router.push("/login"),this.alive=!1},closeIt:function(){this.alive=!1}}},st=et,at=Object(g["a"])(st,Q,tt,!1,null,"27cd7cc5",null),rt=at.exports,it={head:{link:[{rel:"icon",href:s("555a")}]},created:function(){this.$store.dispatch({type:"loadStays"}),this.$store.dispatch({type:"setUser"}),this.$store.dispatch({type:"loadOrders"}),console.log("created")},components:{appHeader:z,appFooter:K,userMsg:rt}},nt=it,ot=(s("5c0b"),Object(g["a"])(nt,i,n,!1,null,null,null)),ct=ot.exports,lt=s("9483");Object(lt["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var ut=s("8c4f"),dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"home-page main-layout2"},[a("section",{staticClass:"main-hero full"},[a("h1",[t._v("Not sure where to go? Perfect.")]),a("button",{staticClass:"gray-box-shadow clickable",on:{click:t.goExplore}},[a("h3",[t._v("I'm flexible")])])]),a("h1",{staticClass:"dest-header"},[t._v("Popular Destinations")]),a("section",{staticClass:"dest-container"},[a("div",{staticClass:"gallery-container"},[a("section",{staticClass:"dest-gallery"},[a("router-link",{attrs:{to:"/explore?destination=New York"}},[a("img",{attrs:{src:s("be5f")}}),a("h3",[t._v("New York")])]),a("router-link",{attrs:{to:"/explore?destination=Santorini"}},[a("img",{attrs:{src:s("3dda")}}),a("h3",[t._v("Santorini")])]),a("router-link",{attrs:{to:"/explore?destination=Tel Aviv"}},[a("img",{attrs:{src:s("5518")}}),a("h3",[t._v("Tel Aviv")])]),a("router-link",{attrs:{to:"/explore?destination=Paris"}},[a("img",{attrs:{src:s("43ce")}}),a("h3",[t._v("Paris")])])],1)])]),a("h1",{staticClass:"tr-header"},[t._v("Top Rated")]),a("section",{staticClass:"toprated-container"},[a("section",{staticClass:"top-rated-gallery"},[a("router-link",{attrs:{to:"/stay/61b21619dcbbeca56b4e124e"}},[a("img",{attrs:{src:s("286d")}}),a("h3",[t._v("Neve Tsedek area - Cosy and sunny")])]),a("router-link",{attrs:{to:"/stay/61b215f3dcbbeca56b4e0549"}},[a("img",{attrs:{src:s("e276")}}),a("h3",[t._v("Magnifique Appart, Paris, France")])]),a("router-link",{attrs:{to:"/stay/61b21585dcbbeca56b4dd121"}},[a("img",{attrs:{src:s("2ff5")}}),a("h3",[t._v("Lava Cave suite, Greece")])]),a("router-link",{attrs:{to:"/stay/61b2155ddcbbeca56b4dbe47"}},[a("img",{attrs:{src:s("fe7a")}}),a("h3",[t._v("Sky The Lodge, Santorini")])])],1)]),a("section",{staticClass:"host-container full"},[a("section",{staticClass:"host"},[a("h1",[t._v("Become a host!")]),a("button",{staticClass:"clickable",on:{click:t.goHost}},[a("h3",[t._v("Learn more")])])])])])},pt=[],vt=Object(d["a"])({methods:{},created:function(){var t="homePage";this.$store.commit({type:"setCurrPage",page:t})}},"methods",{goExplore:function(){this.$router.push("/explore").catch((function(){}))},goHost:function(){this.$router.push("/host").catch((function(){}))}}),ht=vt,ft=Object(g["a"])(ht,dt,pt,!1,null,null,null),gt=ft.exports,mt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},yt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about"},[s("h1",[t._v("This is an about page")])])}],_t={},Ct=Object(g["a"])(_t,mt,yt,!1,null,null,null),bt=Ct.exports,wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-layout2 explore-page"},[s("stay-list",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{stays:t.stays}})],1)},xt=[],kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h4",[t._v(" "+t._s(t.stays.length)+" stays "),t.currDestination.destination?s("span",{staticClass:"dest-filter"},[t._v(" in "+t._s(this.currDestination.destination))]):t._e()]),s("stayFilterAmenities"),s("ul",{staticClass:"stay-list-container clean-list"},t._l(t.stays,(function(t){return s("li",{key:t._id,staticClass:"stay-preview-container"},[s("stay-preview",{attrs:{stay:t}})],1)})),0)],1)},Ot=[],St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"stay-preview clickable",on:{click:t.goToStay}},[s("div",{staticClass:"stay-preview-slideshow"},[s("stay-preview-slideshow",{attrs:{imgs:t.stay.imgUrls}}),s("div",{staticClass:"like-stay"},[s("span",{staticClass:"material-icons",class:{active:t.isLiked},on:{click:function(e){return e.stopPropagation(),t.toggleWishList.apply(null,arguments)}}},[t._v("favorite")])])],1),s("div",{staticClass:"stay-preview-info"},[s("div",{staticClass:"reviews-preview"},[t._m(0),s("span",{staticClass:"review-avg"},[t._v(t._s(this.reviewsRateAvg)+" ")]),s("span",{staticClass:"reviews-total"},[t._v("("+t._s(this.stay.reviews.length)+" reviews)")])]),s("div",{staticClass:"property-type"},[t._v(" "+t._s(this.stay.propertyType)+" • "+t._s(this.stay.loc.city)+" ")]),s("div",{staticClass:"stayname"},[t._v(t._s(this.stay.name))]),s("div",{staticClass:"stay-price"},[s("span",{staticClass:"bold"},[t._v("$"+t._s(this.stay.price))]),t._v(" / night ")])])])},$t=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"star-preview"},[s("span",{staticClass:"material-icons-outlined"},[t._v("star")])])}],Pt=(s("07ac"),s("b680"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"preview-slideshow"},[s("div",{staticClass:"block"},[s("el-carousel",{attrs:{trigger:"click",height:"262.250px",width:"362px",autoplay:!1,loop:!1}},t._l(t.imgs,(function(t){return s("el-carousel-item",{key:t},[s("img",{attrs:{src:t}})])})),1)],1)])}),Tt=[],Et={name:"stayPreviewSlideshow",props:{imgs:{type:Array,default:{}}}},jt=Et,Mt=Object(g["a"])(jt,Pt,Tt,!1,null,null,null),At=Mt.exports,Ut={name:"stayPreview",props:{stay:{type:Object,default:{}}},components:{stayPreviewSlideshow:At,showMsg:H},data:function(){return{isLiked:!1}},created:function(){var t=this,e=this.$store.getters.loggedinUser;if(e&&e.wishList&&e.wishList.length>0){var s=e.wishList.filter((function(e){return e===t.stay._id}));s.length>0&&(this.isLiked=!0)}},computed:{reviewsRateAvg:function(){var t=0;return this.stay.reviews.forEach((function(e){var s=function(t){return Object.values(t).reduce((function(t,e){return t+e}))},a=s(e.rate),r=a/6;t+=r})),t/=this.stay.reviews.length,t.toFixed(1)}},methods:{goToStay:function(){this.$router.push("/stay/"+this.stay._id)},toggleWishList:function(){var t=this.$store.getters.loggedinUser;if(t){var e=this.stay._id;console.log(e),this.$store.dispatch({type:"toggleWishList",stayId:e}),this.isLiked=!this.isLiked}else H("Please log in first","danger"),console.log("please login first")}}},Dt=Ut,Lt=Object(g["a"])(Dt,St,$t,!1,null,null,null),Rt=Lt.exports,Ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"explore-btns"},[s("button",{staticClass:"explore-btn"},[s("div",{staticClass:"btn-expend",on:{click:t.setPriceShown}},[t.isPriceRange?s("span",{staticClass:"btn-txt"},[t._v(t._s(t.displayPriceRange))]):s("span",{staticClass:"btn-txt"},[t._v("Price")]),this.isPriceShown?t._e():s("span",{staticClass:"material-icons"},[t._v("expand_more")]),this.isPriceShown?s("span",{staticClass:"material-icons"},[t._v("expand_less")]):t._e()]),this.isPriceShown?s("div",{staticClass:"price-filter-container"},[s("h3",{staticClass:"avg"},[t._v("The average nightly price is "+t._s(t.getPricesAvg))]),s("div",{staticClass:"price-filter"},[s("HistogramSlider",{attrs:{width:360,"bar-height":100,data:t.filterBy.prices,min:10,max:500,hideFromTo:!0,grid:!1,barGap:1,barRadius:2,lineHeight:2,clip:!1,primaryColor:t.histogramMainColor,holderColor:t.histogramSecondaryColor},on:{finish:t.sliderChanged}}),s("div",{staticClass:"price-select-container"},[s("div",{staticClass:"price-select",on:{click:function(e){t.shouldShow=!1}}},[s("div",{staticClass:"label"},[t._v("min price")]),s("div",{staticClass:"price-change"},[s("div",{staticClass:"dollar"},[t._v("$")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.price.min,expression:"filterBy.price.min"}],attrs:{placeholder:"curr"},domProps:{value:t.filterBy.price.min},on:{input:function(e){e.target.composing||t.$set(t.filterBy.price,"min",e.target.value)}}})])]),s("h3",[t._v("–")]),s("div",{staticClass:"price-select",on:{click:function(e){t.shouldShow=!1}}},[s("div",{staticClass:"label"},[t._v("max price")]),s("div",{staticClass:"price-change"},[s("div",{staticClass:"dollar"},[t._v("$")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.price.max,expression:"filterBy.price.max"}],attrs:{placeholder:"curr"},domProps:{value:t.filterBy.price.max},on:{input:function(e){e.target.composing||t.$set(t.filterBy.price,"max",e.target.value)}}})])])])],1),s("div",{staticClass:"price-save"},[s("button",{staticClass:"clear",on:{click:t.clearPriceRange}},[t._v("Clear")]),s("button",{staticClass:"save",on:{click:t.setPriceRange}},[t._v("Save")])])]):t._e()]),s("button",{staticClass:"explore-btn"},[s("div",{staticClass:"btn-expend",on:{click:t.setTypeShown}},[s("span",{staticClass:"btn-txt"},[t._v("Type of place")]),this.isTypeShown?t._e():s("span",{staticClass:"material-icons"},[t._v("expand_more")]),this.isTypeShown?s("span",{staticClass:"material-icons"},[t._v("expand_less")]):t._e()]),this.isTypeShown?s("div",{staticClass:"type-filter-container"},[s("div",{staticClass:"type-filter"},[s("div",{staticClass:"type-of-place"},[s("label",{staticClass:"container"},[t._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.typeOfPlace,expression:"filterBy.typeOfPlace"}],attrs:{type:"checkbox",id:"entire place",value:"Entire place"},domProps:{checked:Array.isArray(t.filterBy.typeOfPlace)?t._i(t.filterBy.typeOfPlace,"Entire place")>-1:t.filterBy.typeOfPlace},on:{change:function(e){var s=t.filterBy.typeOfPlace,a=e.target,r=!!a.checked;if(Array.isArray(s)){var i="Entire place",n=t._i(s,i);a.checked?n<0&&t.$set(t.filterBy,"typeOfPlace",s.concat([i])):n>-1&&t.$set(t.filterBy,"typeOfPlace",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.filterBy,"typeOfPlace",r)}}}),s("span",{staticClass:"checkmark"})])]),s("div",{staticClass:"type-of-place"},[s("label",{staticClass:"container"},[t._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.typeOfPlace,expression:"filterBy.typeOfPlace"}],attrs:{type:"checkbox",id:"private room",value:"Private room"},domProps:{checked:Array.isArray(t.filterBy.typeOfPlace)?t._i(t.filterBy.typeOfPlace,"Private room")>-1:t.filterBy.typeOfPlace},on:{change:function(e){var s=t.filterBy.typeOfPlace,a=e.target,r=!!a.checked;if(Array.isArray(s)){var i="Private room",n=t._i(s,i);a.checked?n<0&&t.$set(t.filterBy,"typeOfPlace",s.concat([i])):n>-1&&t.$set(t.filterBy,"typeOfPlace",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.filterBy,"typeOfPlace",r)}}}),s("span",{staticClass:"checkmark"})])]),s("div",{staticClass:"type-of-place"},[s("label",{staticClass:"container"},[t._m(2),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.typeOfPlace,expression:"filterBy.typeOfPlace"}],attrs:{type:"checkbox",id:"hotel room",value:"Hotel room"},domProps:{checked:Array.isArray(t.filterBy.typeOfPlace)?t._i(t.filterBy.typeOfPlace,"Hotel room")>-1:t.filterBy.typeOfPlace},on:{change:function(e){var s=t.filterBy.typeOfPlace,a=e.target,r=!!a.checked;if(Array.isArray(s)){var i="Hotel room",n=t._i(s,i);a.checked?n<0&&t.$set(t.filterBy,"typeOfPlace",s.concat([i])):n>-1&&t.$set(t.filterBy,"typeOfPlace",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.filterBy,"typeOfPlace",r)}}}),s("span",{staticClass:"checkmark"})])]),s("div",{staticClass:"type-of-place"},[s("label",{staticClass:"container"},[t._m(3),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.typeOfPlace,expression:"filterBy.typeOfPlace"}],attrs:{type:"checkbox",id:"shared room",value:"Shared room"},domProps:{checked:Array.isArray(t.filterBy.typeOfPlace)?t._i(t.filterBy.typeOfPlace,"Shared room")>-1:t.filterBy.typeOfPlace},on:{change:function(e){var s=t.filterBy.typeOfPlace,a=e.target,r=!!a.checked;if(Array.isArray(s)){var i="Shared room",n=t._i(s,i);a.checked?n<0&&t.$set(t.filterBy,"typeOfPlace",s.concat([i])):n>-1&&t.$set(t.filterBy,"typeOfPlace",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.filterBy,"typeOfPlace",r)}}}),s("span",{staticClass:"checkmark"})])])]),s("div",{staticClass:"type-save"},[s("button",{staticClass:"clear",on:{click:t.clearTypeFilter}},[t._v("Clear")]),s("button",{staticClass:"save",on:{click:t.setTypeFilter}},[t._v("Save")])])]):t._e()]),s("span",{staticClass:"buffer"},[t._v("|")]),s("button",{staticClass:"explore-btn",on:{click:function(e){e.target.classList.toggle("active"),t.toggleLabel("Wifi")}}},[t._v(" Wifi ")]),s("button",{staticClass:"explore-btn",on:{click:function(e){e.target.classList.toggle("active"),t.toggleLabel("TV")}}},[t._v(" TV ")]),s("button",{staticClass:"explore-btn",on:{click:function(e){e.target.classList.toggle("active"),t.toggleLabel("Kitchen")}}},[t._v(" Kitchen ")]),s("button",{staticClass:"explore-btn",on:{click:function(e){e.target.classList.toggle("active"),t.toggleLabel("Air conditioning")}}},[t._v(" AC ")]),s("button",{staticClass:"explore-btn",on:{click:function(e){e.target.classList.toggle("active"),t.toggleLabel("Smoking Allowed")}}},[t._v(" Smoking Allowed ")]),s("button",{staticClass:"explore-btn",on:{click:function(e){e.target.classList.toggle("active"),t.toggleLabel("Pets Allowed")}}},[t._v(" Pets Allowed ")])])},Bt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"type"},[s("div",{staticClass:"type-header"},[t._v("Entire place")]),s("div",{staticClass:"type-title"},[t._v("Have a place to yourself")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"type"},[s("div",{staticClass:"type-header"},[t._v("Private room")]),s("div",{staticClass:"type-title"},[t._v(" Have your own room and share some common spaces ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"type"},[s("div",{staticClass:"type-header"},[t._v("Hotel room")]),s("div",{staticClass:"type-title"},[t._v(" Have a private or shared room in a boutique hotel, hostel, and more ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"type"},[s("div",{staticClass:"type-header"},[t._v("Shared room")]),s("div",{staticClass:"type-title"},[t._v(" Stay in a shared space, like a common room ")])])}],It=(s("c740"),s("a434"),s("d81d"),{data:function(){return{filterBy:{price:{min:10,max:500},typeOfPlace:[],labels:[],prices:[]},histogramMainColor:"#b0b0b0",histogramSecondaryColor:"#dddddd",stays:null,activeBtn:"",isPriceShown:!1,isPriceRange:!1,isTypeShown:!1,isTypeSelect:!1,priceRange:""}},created:function(){this.getStaysPrices()},components:{},computed:{displayPriceRange:function(){return this.filterBy.price.min>10&&this.filterBy.price.max<500?"$"+this.filterBy.price.min+" - $"+this.filterBy.price.max:this.filterBy.price.min>10&&this.filterBy.price.max>=500?"$"+this.filterBy.price.min+"+":this.filterBy.price.min<=10&&this.filterBy.price.max<500?"Up to $"+this.filterBy.price.max:this.filterBy.price.min<=10&&500===this.filterBy.price.max?"Price":void 0},getPricesAvg:function(){if(!this.filterBy.prices)return"0$";var t=this.filterBy.prices.reduce((function(t,e){return t+e}));return t/=this.filterBy.prices.length,t=t.toFixed(1),t+"$"}},methods:{setPriceShown:function(){this.isPriceShown=!this.isPriceShown,this.isTypeShown=!1},setTypeShown:function(){this.isTypeShown=!this.isTypeShown,this.isPriceShown=!1},toggleLabel:function(t){var e=this.filterBy.labels.findIndex((function(e){return e===t}));-1===e?this.filterBy.labels.push(t):this.filterBy.labels.splice(e,1),console.log(this.filterBy.labels),this.setFilter()},setFilter:function(){var t=this.filterBy;console.log(t),this.$store.commit({type:"setFilter",filterBy:t}),this.getStaysPrices()},getStaysPrices:function(){var t=this.$store.getters.staysToShow,e=t.map((function(t){return t.price}));this.filterBy.prices=e},sliderChanged:function(t){var e=t.from,s=t.to;this.filterBy.price.min=e,this.filterBy.price.max=s},clearPriceRange:function(){this.filterBy.price.min=0,this.filterBy.price.max=500},setPriceRange:function(){this.isPriceShown=!1,this.filterBy.price.min<=0&&500===this.filterBy.price.max?this.isPriceRange=!1:this.isPriceRange=!0,this.setFilter()},setTypeFilter:function(){this.isTypeShown=!1,console.log(this.filterBy.typeOfPlace),this.setFilter()},clearTypeFilter:function(){this.filterBy.typeOfPlace=[]}}}),Nt=It,Ht=Object(g["a"])(Nt,Ft,Bt,!1,null,null,null),Gt=Ht.exports,Wt={name:"stayList",props:{stays:{type:Array,default:[]}},data:function(){return{currDestination:null}},created:function(){this.getCurrDest},methods:{},computed:{getCurrDest:function(){this.currDestination=this.$store.getters.getCurrTrip}},components:{stayPreview:Rt,stayFilterAmenities:Gt}},Yt=Wt,zt=Object(g["a"])(Yt,kt,Ot,!1,null,null,null),Jt=zt.exports,Vt={name:"stay-app",data:function(){return{currTrip:{guests:{children:null,adults:null},destination:"",dates:{}}}},computed:{stays:function(){return this.$store.getters.staysToShow},loading:function(){return this.$store.getters.isLoading}},created:function(){this.currTrip=this.$store.getters.getCurrTrip,console.log(this.currTrip);var t="explore";this.$store.commit({type:"setCurrPage",page:t})},watch:{$route:{handler:function(){this.currTrip=this.$store.getters.getCurrTrip;var t=this.$route.query.destination;this.currTrip.destination=t,console.log(this.currTrip)},immediate:!0}},components:{stayList:Jt}},qt=Vt,Xt=Object(g["a"])(qt,wt,xt,!1,null,null,null),Zt=Xt.exports,Kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.stay?s("section",{staticClass:"stay-details main-layout"},[s("h1",{staticClass:"stay-name"},[t._v(t._s(t.stay.name))]),s("stay-short-info",{attrs:{stay:t.stay}}),s("stay-gallery",{attrs:{stay:t.stay}}),s("section",{ref:"displayContainer",staticClass:"stay-display-divider flex gray-box-shadow"},[s("div",{staticClass:"stay-display-info"},[s("section",{staticClass:"\n          stay-summery-container\n          gray-box-shadow\n          flex\n          space-between\n          align-center\n        "},[s("div",[s("h2",{staticClass:"stay-summery"},[t._v(" "+t._s(t.stay.summary)+" hosted by "+t._s(t.hostName)+" ")]),s("h5",{staticClass:"stay-capacity"},[t._v(" "+t._s(t.stay.capacity)+" guests · 3 bedrooms · 3 beds · 2 baths ")])]),s("img",{staticClass:"host-img",attrs:{src:t.stay.host.imgUrl}})]),s("stay-features"),s("stay-description",{attrs:{stay:t.stay}}),s("a",{attrs:{id:"reviews"}})],1),s("div",{staticClass:"stay-display-order"},[s("order-modal",{staticClass:"sticky",attrs:{conHeight:t.conHeight,stay:t.stay}})],1)]),s("stay-reviews",{attrs:{reviews:t.stay.reviews}})],1):t._e()},Qt=[],te=(s("ac1f"),s("1276"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"stay-gallery"},t._l(t.stay.imgUrls,(function(t,e){return s("img",{key:e,staticClass:"img-container clean-list",attrs:{src:t,alt:""}})})),0)}),ee=[],se={name:"stayGallery",props:{stay:{type:Object,default:{}}}},ae=se,re=Object(g["a"])(ae,te,ee,!1,null,null,null),ie=re.exports,ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"short-info flex space-between align-center"},[s("section",{staticClass:"flex"},[s("span",{staticClass:"material-icons-outlined red-star"},[t._v(" star ")]),s("h4",{staticClass:"spacer short-info-txt"},[t._v(t._s(this.reviewsRateAvg))]),s("h4",{staticClass:"short-info-txt short-info-gray under-line"},[t._v(" ("+t._s(this.stay.reviews.length)+" reviews) ")]),s("span",{staticClass:"spacer short-info-gray wide"},[t._v("•")]),s("h4",{staticClass:"short-info-txt short-info-gray under-line"},[t._v(" "+t._s(t.stay.loc.city)+" , "+t._s(t.stay.loc.country)+" ")])]),s("section",{staticClass:"flex"},[s("button",{staticClass:"short-info-btn clean-btn flex align-center",on:{click:function(e){t.shareModalShow=!t.shareModalShow}}},[s("span",{staticClass:"material-icons-outlined short-info-logo"},[t._v(" ios_share ")]),s("span",{staticClass:"under-line"},[t._v("Share")])]),s("button",{staticClass:"short-info-btn short-save clean-btn flex align-center"},[s("span",{staticClass:"material-icons-outlined short-heart",class:{active:t.isLiked},on:{click:function(e){return e.stopPropagation(),t.toggleWishList.apply(null,arguments)}}},[t._v(" favorite ")]),s("span",{staticClass:"under-line"},[t._v("Save")])])]),t.shareModalShow?s("share-modal",{staticClass:"share-modal flex"},[s("h1",{staticClass:"clickable",on:{click:t.copyURL}},[t._v("Copy link to clipboard")])]):t._e()],1)},oe=[],ce=(s("e9c4"),s("7db0"),s("5319"),s("25f0"),s("4d63"),s("c607"),s("2c3e"),{makeId:le,getRandomInt:ue,timeSince:de});function le(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<t;a++)e+=s.charAt(Math.floor(Math.random()*s.length));return e}function ue(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function de(t){if(t instanceof Date||(t=new Date(t)),isNaN(t.getDate()))return"Invalid date";var e,s=new Date,a=(s.getTime()-t.getTime())/1e3,r=function(t,e,s){var a=["\0","January","February","March","April","May","June","July","August","September","October","November","December"],r=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=["","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=["","Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function o(t,e){var s=t+"";e=e||2;while(s.length<e)s="0"+s;return s}var c=s?t.getUTCFullYear():t.getFullYear();e=e.replace(/(^|[^\\])yyyy+/g,"$1"+c),e=e.replace(/(^|[^\\])yy/g,"$1"+c.toString().substr(2,2)),e=e.replace(/(^|[^\\])y/g,"$1"+c);var l=(s?t.getUTCMonth():t.getMonth())+1;e=e.replace(/(^|[^\\])MMMM+/g,"$1"+a[0]),e=e.replace(/(^|[^\\])MMM/g,"$1"+r[0]),e=e.replace(/(^|[^\\])MM/g,"$1"+o(l)),e=e.replace(/(^|[^\\])M/g,"$1"+l);var u=s?t.getUTCDate():t.getDate();e=e.replace(/(^|[^\\])dddd+/g,"$1"+i[0]),e=e.replace(/(^|[^\\])ddd/g,"$1"+n[0]),e=e.replace(/(^|[^\\])dd/g,"$1"+o(u)),e=e.replace(/(^|[^\\])d/g,"$1"+u);var d=s?t.getUTCHours():t.getHours();e=e.replace(/(^|[^\\])HH+/g,"$1"+o(d)),e=e.replace(/(^|[^\\])H/g,"$1"+d);var p=d>12?d-12:0==d?12:d;e=e.replace(/(^|[^\\])hh+/g,"$1"+o(p)),e=e.replace(/(^|[^\\])h/g,"$1"+p);var v=s?t.getUTCMinutes():t.getMinutes();e=e.replace(/(^|[^\\])mm+/g,"$1"+o(v)),e=e.replace(/(^|[^\\])m/g,"$1"+v);var h=s?t.getUTCSeconds():t.getSeconds();e=e.replace(/(^|[^\\])ss+/g,"$1"+o(h)),e=e.replace(/(^|[^\\])s/g,"$1"+h);var f=s?t.getUTCMilliseconds():t.getMilliseconds();e=e.replace(/(^|[^\\])fff+/g,"$1"+o(f,3)),f=Math.round(f/10),e=e.replace(/(^|[^\\])ff/g,"$1"+o(f)),f=Math.round(f/10),e=e.replace(/(^|[^\\])f/g,"$1"+f);var g=d<12?"AM":"PM";e=e.replace(/(^|[^\\])TT+/g,"$1"+g),e=e.replace(/(^|[^\\])T/g,"$1"+g.charAt(0));var m=g.toLowerCase();e=e.replace(/(^|[^\\])tt+/g,"$1"+m),e=e.replace(/(^|[^\\])t/g,"$1"+m.charAt(0));var y=-t.getTimezoneOffset(),_=s||!y?"Z":y>0?"+":"-";if(!s){y=Math.abs(y);var C=Math.floor(y/60),b=y%60;_+=o(C)+":"+o(b)}e=e.replace(/(^|[^\\])K/g,"$1"+_);var w=(s?t.getUTCDay():t.getDay())+1;return e=e.replace(new RegExp(i[0],"g"),i[w]),e=e.replace(new RegExp(n[0],"g"),n[w]),e=e.replace(new RegExp(a[0],"g"),a[l]),e=e.replace(new RegExp(r[0],"g"),r[l]),e=e.replace(/\\(.)/g,"$1"),e};return a<0?t:a<60?parseInt(a)+" secs ago":a<3600?parseInt(a/60)+" mins ago":a<=86400?parseInt(a/3600)+" hrs ago":a<=172800?"Yesderday at "+r(t,"h:mmtt"):a>172800?(e=a<=604800?r(t,"dddd")+" at "+r(t,"h:mmtt"):s.getFullYear()>t.getFullYear()?r(t,"MMMM d, yyyy"):s.getMonth()>t.getMonth()?r(t,"MMMM d"):r(t,"MMMM d")+" at "+r(t,"h:mmtt"),e):void 0}var pe={query:ve,get:he,post:fe,put:ge,remove:me};function ve(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,s=JSON.parse(localStorage.getItem(t))||[];return new Promise((function(t){setTimeout((function(){t(s)}),e)}))}function he(t,e){return ve(t).then((function(t){return t.find((function(t){return t._id===e}))}))}function fe(t,e){return e._id=ce.makeId(),ve(t).then((function(s){return s.push(e),ye(t,s),e}))}function ge(t,e){return ve(t).then((function(s){var a=s.findIndex((function(t){return t._id===e._id}));return s.splice(a,1,e),ye(t,s),e}))}function me(t,e){return ve(t).then((function(s){var a=s.findIndex((function(t){return t._id===e}));if(a<0)throw new Error("Unknown Entity ".concat(e));s.splice(a,1),ye(t,s)}))}function ye(t,e){localStorage.setItem(t,JSON.stringify(e))}var _e=s("bc3a"),Ce=s.n(_e),be="/api/",we=Ce.a.create({withCredentials:!0}),xe={get:function(t,e){return ke(t,"GET",e)},post:function(t,e){return ke(t,"POST",e)},put:function(t,e){return ke(t,"PUT",e)},delete:function(t,e){return ke(t,"DELETE",e)}};function ke(t){return Oe.apply(this,arguments)}function Oe(){return Oe=Object(A["a"])(regeneratorRuntime.mark((function t(e){var s,a,r,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=i.length>1&&void 0!==i[1]?i[1]:"GET",a=i.length>2&&void 0!==i[2]?i[2]:null,t.prev=2,t.next=5,we({url:"".concat(be).concat(e),method:s,data:a,params:"GET"===s?a:null});case 5:return r=t.sent,t.abrupt("return",r.data);case 9:throw t.prev=9,t.t0=t["catch"](2),console.log("Had Issues ".concat(s,"ing to the backend, endpoint: ").concat(e,", with data:"),a),console.dir(t.t0),t.t0.response&&401===t.t0.response.status&&Mr.push("/login"),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,9]])}))),Oe.apply(this,arguments)}var Se="loggedinUser",$e={login:Ue,logout:Fe,signup:Le,getLoggedinUser:Ae,getUsers:Pe,getById:Te,update:je};function Pe(){return xe.get("user")}function Te(t){return Ee.apply(this,arguments)}function Ee(){return Ee=Object(A["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xe.get("user/".concat(e));case 2:return s=t.sent,s,t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)}))),Ee.apply(this,arguments)}function je(t){return Me.apply(this,arguments)}function Me(){return Me=Object(A["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xe.put("user/".concat(e._id),e);case 2:return s=t.sent,Ie(e),t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)}))),Me.apply(this,arguments)}function Ae(){return JSON.parse(sessionStorage.getItem(Se)||"null")}function Ue(t){return De.apply(this,arguments)}function De(){return De=Object(A["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xe.post("auth/login",e);case 2:if(s=t.sent,F.emit("set-user-socket",s._id),!s){t.next=6;break}return t.abrupt("return",Ie(s));case 6:case"end":return t.stop()}}),t)}))),De.apply(this,arguments)}function Le(t){return Re.apply(this,arguments)}function Re(){return Re=Object(A["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xe.post("auth/signup",e);case 2:return s=t.sent,t.abrupt("return",Ie(s));case 4:case"end":return t.stop()}}),t)}))),Re.apply(this,arguments)}function Fe(){return Be.apply(this,arguments)}function Be(){return Be=Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return sessionStorage.removeItem(Se),F.emit("unset-user-socket"),t.next=4,xe.post("auth/logout");case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)}))),Be.apply(this,arguments)}function Ie(t){return sessionStorage.setItem(Se,JSON.stringify(t)),t}var Ne={name:"stayShortInfo",props:{stay:{type:Object,default:{}}},data:function(){return{isLiked:!1,shareModalShow:!1,link_name:""}},created:function(){var t=this,e=$e.getLoggedinUser();if(e&&e.wishList&&e.wishList.length>0){var s=e.wishList.filter((function(e){return e===t.stay._id}));s.length>0&&(this.isLiked=!0)}},computed:{reviewsRateAvg:function(){var t=0;return this.stay.reviews.forEach((function(e){var s=function(t){return Object.values(t).reduce((function(t,e){return t+e}))},a=s(e.rate),r=a/6;t+=r})),t/=this.stay.reviews.length,t.toFixed(1)},reviewsCount:function(){return this.stay.reviews.length}},methods:{toggleWishList:function(){var t=this.stay._id;this.$store.dispatch({type:"toggleWishList",stayId:t}),this.isLiked=!this.isLiked,console.log(this.isLiked)},copyLink:function(){console.log("copylink")},copyURL:function(){Url.innerHTML=window.location.href,navigator.clipboard.writeText(Url.innerHTML),shareModalShow=!1},closeIt:function(){this.shareModalShow=!1}}},He=Ne,Ge=Object(g["a"])(He,ne,oe,!1,null,null,null),We=Ge.exports,Ye=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ze=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"stay-feature-container gray-box-shadow"},[s("div",{staticClass:"feature-block flex"},[s("div",{staticClass:"feature-logo"},[s("span",{staticClass:"material-icons-outlined"},[t._v(" home ")])]),s("section",{staticClass:"feature-text-area"},[s("div",{staticClass:"feature-header"},[s("h4",{staticClass:"feature-header-text"},[t._v("Entire home")])]),s("div",[s("h5",{staticClass:"feature-text"},[t._v("You’ll have the apartment to yourself.")])])])]),s("div",{staticClass:"feature-block flex"},[s("div",{staticClass:"feature-logo"},[s("span",{staticClass:"material-icons-outlined"},[t._v(" location_on ")])]),s("section",{staticClass:"feature-text-area"},[s("div",{staticClass:"feature-header"},[s("h4",{staticClass:"feature-header-text"},[t._v("Great location")])]),s("div",[s("h5",{staticClass:"feature-text"},[t._v("Recent guests gave the location a 5-star rating.")])])])]),s("div",{staticClass:"feature-block flex"},[s("div",{staticClass:"feature-logo"},[s("span",{staticClass:"material-icons-outlined"},[t._v(" auto_awesome ")])]),s("section",{staticClass:"feature-text-area"},[s("div",{staticClass:"feature-header"},[s("h4",{staticClass:"feature-header-text"},[t._v("Enhanced Clean")])]),s("div",[s("h5",{staticClass:"feature-text"},[t._v(" This host has committed to our 5-step enhanced cleaning process. ")])])])]),s("div",{staticClass:"feature-block flex"},[s("div",{staticClass:"feature-logo"},[s("span",{staticClass:"material-icons-outlined"},[t._v(" event ")])]),s("section",{staticClass:"feature-text-area"},[s("div",{staticClass:"feature-header"},[s("h4",{staticClass:"feature-header-text"},[t._v("Free cancellation up to 24 hours before check-in")])]),s("div",[s("h5",{staticClass:"feature-text"},[t._v("feel free to be flexible")])])])])])}],Je={name:"stayFeatures"},Ve=Je,qe=Object(g["a"])(Ve,Ye,ze,!1,null,null,null),Xe=qe.exports,Ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("div",{staticClass:"stay-description gray-box-shadow"},[s("h2",{staticClass:"description-header"},[t._v("Stay description")]),s("h4",{staticClass:"stay-description-text"},[t._v(t._s(t.stay.description))]),s("div",{attrs:{id:"ameneties"}})]),s("section",{staticClass:"stay-amenities"},[s("h2",{staticClass:"amenities-header"},[t._v("Amenities")]),s("ul",{staticClass:"amenities-list clean-list flex"},t._l(t.stay.amenities,(function(e,a){return s("li",{key:a,staticClass:"amenity-list clean-list"},[s("div",{staticClass:"amenity-container flex"},[s("span",{staticClass:"material-icons-outlined"},[t._v(" "+t._s(e.logo)+" ")]),s("h5",[t._v(" "+t._s(e.name)+" ")])])])})),0)])])},Ke=[],Qe={name:"stayDescription",props:{stay:{type:Object,default:{}}}},ts=Qe,es=Object(g["a"])(ts,Ze,Ke,!1,null,null,null),ss=es.exports,as=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"stay-reviews-container"},[s("div",{staticClass:"stay-reviews-header gray-box-shadow"},[s("span",{staticClass:"material-icons-outlined"},[t._v(" star ")]),s("h2",[t._v(" "+t._s(t.reviewsRateAvg)+" · "+t._s(this.reviews.length)+" reviews ")]),s("div",{staticClass:"stay-reviews-stats"},[s("stay-reviews-stats",{attrs:{reviews:t.reviews}})],1),s("stay-reviews-list",{attrs:{reviews:t.reviews}})],1),t.loggedin?s("add-stay-review",{attrs:{user:t.loggedinUser}}):t._e()],1)},rs=[],is=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"add-review flex column"},[a("h2",[t._v("Add a review")]),a("div",{staticClass:"review-preview-header flex"},[t.hasImg?a("img",{staticClass:"host-img",attrs:{src:t.user.imgUrl,alt:""}}):a("img",{staticClass:"host-img",attrs:{src:s("ce36"),alt:""}}),a("div",{staticClass:"review-preview-text-container"},[a("h4",[t._v(t._s(t.user.fullname))]),a("h5",[t._v(t._s(t.now))])])]),a("add-review-ctgs"),a("div",{staticClass:"add-review-text"},[a("textarea",{attrs:{type:"text",name:"txt",autocomplete:"off",placeholder:"Write your opinion about this stay..."}}),a("button",{staticClass:"add-review-btn clean-btn",on:{click:function(e){return t.addReview()}}},[t._v(" Send ")])])],1)},ns=[],os=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"review-stats"},[s("div",{staticClass:"add-review-ctg flex space-between"},[s("label",{attrs:{for:"Cleanliness"}},[t._v("Cleanliness")]),s("div",{staticClass:"flex"},[s("div",{staticClass:"gray-scale flex clickable"},t._l(5,(function(e,a){return s("div",{key:a,staticClass:"scale",class:{blackbgc:e<=t.Cleanliness},on:{click:function(s){return t.changeColor(e,"Cleanliness")}}})})),0),s("span",{staticClass:"points"},[t._v(t._s(t.showFixedCleanliness))])])]),s("div",{staticClass:"add-review-ctg flex space-between"},[s("label",{attrs:{for:"Communication"}},[t._v("Communication")]),s("div",{staticClass:"flex"},[s("div",{staticClass:"gray-scale flex clickable"},t._l(5,(function(e,a){return s("div",{key:a,staticClass:"scale",class:{blackbgc:e<=t.Communication},on:{click:function(s){return t.changeColor(e,"Communication")}}})})),0),s("span",{staticClass:"points"},[t._v(t._s(t.showFixedCommunication))])])]),s("div",{staticClass:"add-review-ctg flex space-between"},[s("label",{attrs:{for:"CheckIn"}},[t._v("Check-in")]),s("div",{staticClass:"flex"},[s("div",{staticClass:"gray-scale flex clickable"},t._l(5,(function(e,a){return s("div",{key:a,staticClass:"scale",class:{blackbgc:e<=t.CheckIn},on:{click:function(s){return t.changeColor(e,"CheckIn")}}})})),0),s("span",{staticClass:"points"},[t._v(t._s(t.showFixedCheckIn))])])]),s("div",{staticClass:"add-review-ctg flex space-between"},[s("label",{attrs:{for:"Accuracy"}},[t._v("Accuracy")]),s("div",{staticClass:"flex"},[s("div",{staticClass:"gray-scale flex clickable"},t._l(5,(function(e,a){return s("div",{key:a,staticClass:"scale",class:{blackbgc:e<=t.Accuracy},on:{click:function(s){return t.changeColor(e,"Accuracy")}}})})),0),s("span",{staticClass:"points"},[t._v(t._s(t.showFixedAccuracy))])])]),s("div",{staticClass:"add-review-ctg flex space-between"},[s("label",{attrs:{for:"Location"}},[t._v("Location")]),s("div",{staticClass:"flex"},[s("div",{staticClass:"gray-scale flex clickable"},t._l(5,(function(e,a){return s("div",{key:a,staticClass:"scale",class:{blackbgc:e<=t.Location},on:{click:function(s){return t.changeColor(e,"Location")}}})})),0),s("span",{staticClass:"points"},[t._v(t._s(t.showFixedLocation))])])]),s("div",{staticClass:"add-review-ctg flex space-between"},[s("label",{attrs:{for:"Accessibility"}},[t._v("Accessibility")]),s("div",{staticClass:"flex"},[s("div",{staticClass:"gray-scale flex clickable"},t._l(5,(function(e,a){return s("div",{key:a,staticClass:"scale",class:{blackbgc:e<=t.Accessibility},on:{click:function(s){return t.changeColor(e,"Accessibility")}}})})),0),s("span",{staticClass:"points"},[t._v(t._s(t.showFixedAccessibility))])])])])},cs=[],ls={name:"addReviewCtgs",data:function(){return{rate:5,Cleanliness:5,Communication:5,CheckIn:5,Accuracy:5,Location:5,Accessibility:5}},methods:{changeColor:function(t,e){this[e]=t}},computed:{showFixedAccessibility:function(){return this.Accessibility.toFixed(1)},showFixedLocation:function(){return this.Location.toFixed(1)},showFixedAccuracy:function(){return this.Accuracy.toFixed(1)},showFixedCheckIn:function(){return this.CheckIn.toFixed(1)},showFixedCommunication:function(){return this.Communication.toFixed(1)},showFixedCleanliness:function(){return this.Cleanliness.toFixed(1)}}},us=ls,ds=Object(g["a"])(us,os,cs,!1,null,null,null),ps=ds.exports,vs={name:"addStayReview",props:{user:{type:Object,default:{}}},components:{addReviewCtgs:ps},methods:{addReview:function(){console.log("review added")}},computed:{hasImg:function(){return!!this.user.imgUrl},now:function(){var t=new Date,e=t.getUTCMonth()+1,s=t.getUTCDate(),a=t.getUTCFullYear(),r=s+"."+e+"."+a;return r}}},hs=vs,fs=Object(g["a"])(hs,is,ns,!1,null,null,null),gs=fs.exports,ms=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("div",{staticClass:"review-stats"},[s("div",{staticClass:"review-ctg flex space-between"},[s("label",{attrs:{for:"Cleanliness"}},[t._v("Cleanliness")]),s("div",{staticClass:"flex"},[s("div",{staticClass:"gray-scale flex"},t._l(5,(function(e,a){return s("div",{key:a,staticClass:"scale",class:{blackbgc:e<=t.Cleanliness}})})),0),s("span",{staticClass:"points"},[t._v(t._s(t.Cleanliness))])])]),s("div",{staticClass:"review-ctg flex space-between"},[s("label",{attrs:{for:"Communication"}},[t._v("Communication")]),s("div",{staticClass:"flex"},[s("div",{staticClass:"gray-scale flex"},t._l(5,(function(e,a){return s("div",{key:a,staticClass:"scale",class:{blackbgc:e<=t.Communication}})})),0),s("span",{staticClass:"points"},[t._v(t._s(t.Communication))])])]),s("div",{staticClass:"review-ctg flex space-between"},[s("label",{attrs:{for:"CheckIn"}},[t._v("Check-in")]),s("div",{staticClass:"flex"},[s("div",{staticClass:"gray-scale flex"},t._l(5,(function(e,a){return s("div",{key:a,staticClass:"scale",class:{blackbgc:e<=t.CheckIn}})})),0),s("span",{staticClass:"points"},[t._v(t._s(t.CheckIn))])])]),s("div",{staticClass:"review-ctg flex space-between"},[s("label",{attrs:{for:"Accuracy"}},[t._v("Accuracy")]),s("div",{staticClass:"flex"},[s("div",{staticClass:"gray-scale flex"},t._l(5,(function(e,a){return s("div",{key:a,staticClass:"scale",class:{blackbgc:e<=t.Accuracy}})})),0),s("span",{staticClass:"points"},[t._v(t._s(t.Accuracy))])])]),s("div",{staticClass:"review-ctg flex space-between"},[s("label",{attrs:{for:"Location"}},[t._v("Location")]),s("div",{staticClass:"flex"},[s("div",{staticClass:"gray-scale flex"},t._l(5,(function(e,a){return s("div",{key:a,staticClass:"scale",class:{blackbgc:e<=t.Location}})})),0),s("span",{staticClass:"points"},[t._v(t._s(t.Location))])])]),s("div",{staticClass:"review-ctg flex space-between"},[s("label",{attrs:{for:"Accessibility"}},[t._v("Accessibility")]),s("div",{staticClass:"flex"},[s("div",{staticClass:"gray-scale flex"},t._l(5,(function(e,a){return s("div",{key:a,staticClass:"scale",class:{blackbgc:e<=t.Accessibility}})})),0),s("span",{staticClass:"points"},[t._v(t._s(t.Accessibility))])])])])])},ys=[],_s={name:"stayReviewsStats",props:{reviews:{type:Array,default:[]}},data:function(){return{rate:0,Cleanliness:0,Communication:0,CheckIn:0,Accuracy:0,Location:0,Accessibility:0}},created:function(){this.reviewsRateScoreAvg()},methods:{reviewsRateScoreAvg:function(){var t={cleanlinessScore:[],checkInScore:[],locationScore:[],communicationScore:[],accuracyScore:[],accessibilityScore:[]};return this.reviews.forEach((function(e){var s=e.rate.cleanliness;t.cleanlinessScore.push(s);var a=e.rate.checkIn;t.checkInScore.push(a);var r=e.rate.location;t.locationScore.push(r);var i=e.rate.communication;t.communicationScore.push(i);var n=e.rate.accuracy;t.accuracyScore.push(n);var o=e.rate.accessibility;t.accessibilityScore.push(o)})),t.cleanlinessScore=(t.cleanlinessScore.reduce(this.add)/this.reviews.length).toFixed(1),t.checkInScore=(t.checkInScore.reduce(this.add)/this.reviews.length).toFixed(1),t.locationScore=(t.locationScore.reduce(this.add)/this.reviews.length).toFixed(1),t.communicationScore=(t.communicationScore.reduce(this.add)/this.reviews.length).toFixed(1),t.accuracyScore=(t.accuracyScore.reduce(this.add)/this.reviews.length).toFixed(1),t.accessibilityScore=(t.accessibilityScore.reduce(this.add)/this.reviews.length).toFixed(1),this.Cleanliness=t.cleanlinessScore,this.CheckIn=t.checkInScore,this.Location=t.locationScore,this.Communication=t.communicationScore,this.Accuracy=t.accuracyScore,this.Accessibility=t.accessibilityScore,t},setColor:function(t,e){this[e]=t},add:function(t,e){return t+e}},computed:{}},Cs=_s,bs=Object(g["a"])(Cs,ms,ys,!1,null,null,null),ws=bs.exports,xs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"stay-review-list"},[s("ul",{staticClass:"reviews-list-container clean-list"},t._l(t.reviews,(function(t,e){return s("li",{key:e,staticClass:"review-preview-container"},[s("review-preview",{attrs:{review:t}})],1)})),0)])},ks=[],Os=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("div",{staticClass:"review-preview-header flex"},[s("img",{staticClass:"host-img",attrs:{src:t.review.by.imgUrl,alt:""}}),s("div",{staticClass:"review-preview-text-container"},[s("h4",[t._v(t._s(t.review.by.fullname))]),s("h5",[t._v(t._s(t.review.date))])])]),s("span",[t._v(t._s(t.review.txt))])])},Ss=[],$s={name:"reviewPreview",props:{review:{type:Object,default:{}}}},Ps=$s,Ts=Object(g["a"])(Ps,Os,Ss,!1,null,null,null),Es=Ts.exports,js={name:"stayReviewsList",props:{reviews:{type:Array,default:[]}},components:{reviewPreview:Es}},Ms=js,As=Object(g["a"])(Ms,xs,ks,!1,null,null,null),Us=As.exports,Ds={name:"stayReviews",props:{reviews:{type:Array,default:[]}},components:{addStayReview:gs,stayReviewsStats:ws,stayReviewsList:Us},data:function(){return{loggedinUser:null}},created:function(){this.loggedinUser=this.$store.getters.loggedinUser},computed:{loggedin:function(){return!!this.loggedinUser},reviewsRateAvg:function(){var t=0;return this.reviews.forEach((function(e){var s=function(t){return Object.values(t).reduce((function(t,e){return t+e}))},a=s(e.rate),r=a/6;t+=r})),t/=this.reviews.length,t.toFixed(1)},reviewRateAvg:function(t){return console.log(t),console.log("sum",sum),sum/6}}},Ls=Ds,Rs=Object(g["a"])(Ls,as,rs,!1,null,null,null),Fs=Rs.exports,Bs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"modal",staticClass:"order-modal-container"},[s("div",{staticClass:"order-modal flex column align-center justify-center",class:{miniModal:t.miniModal}},[s("div",{staticClass:"mini-modal-container"},[t.miniModal?s("div",{staticClass:"details-mini-nav"},[s("a",{on:{click:function(e){return t.goToSection("pictures")}}},[s("span",[t._v("Photos")])]),s("a",{on:{click:function(e){return t.goToSection("ameneties")}}},[s("span",[t._v("Ameneties")])]),s("a",{on:{click:function(e){return t.goToSection("reviews")}}},[t._v("Reviews")])]):t._e(),s("div",{staticClass:"order-form-header flex space-between align-center"},[s("div",[s("span",{staticClass:"bold"},[t._v("$"+t._s(this.stay.price))]),t._v(" / night ")]),s("div",{staticClass:"reviews-preview flex"},[t._m(0),s("span",{staticClass:"review-avg"},[t._v(t._s(t.reviewsRateAvg)+" ")]),s("span",{staticClass:"reviews-total"},[t._v("("+t._s(this.stay.reviews.length)),s("span",{staticClass:"mini-total"}),t._v(")")])])]),t.miniModal?s("button",{staticClass:"reserve-btn clickable pretty-btn",style:{"--mouse-x":this.mouse.x,"--mouse-y":this.mouse.y},on:{click:t.placeOrder}},[t._v(" "+t._s(t.buttonText)+" ")]):t._e()]),s("form",{staticClass:"order-form",on:{submit:function(e){return e.preventDefault(),t.placeOrder.apply(null,arguments)}}},[s("trip-calendar-2",{ref:"calendar",attrs:{dates:t.trip.dates},on:{updated:t.updateDates}}),s("div",{staticClass:"input-container guests-input",on:{click:function(e){t.shouldShow=!t.shouldShow}}},[s("label",[t._v(" Guests "),s("div",{staticClass:"expand-btn"},[s("span",{staticClass:"material-icons-outlined",class:{flip:t.shouldShow}},[t._v(" expand_more ")])]),s("input",{staticClass:"guests",attrs:{placeholder:t.numOfGuests,disabled:""},on:{click:function(e){t.shouldShow=!t.shouldShow}}})]),t.shouldShow?s("div",{staticClass:"guests-modal flex column"},[s("div",{staticClass:"guest-type-label flex space-between align-center"},[t._m(1),s("div",{staticClass:"guest-btns flex align-center space-between"},[s("button",{attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.updateGuests("adults",-1)}}},[s("span",{staticClass:"material-icons-sharp"},[t._v(" remove ")])]),s("span",{staticClass:"guests-num"},[t._v(t._s(t.adults))]),s("button",{attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.updateGuests("adults",1)}}},[s("span",{staticClass:"material-icons-sharp"},[t._v(" add ")])])])]),s("div",{staticClass:"guest-type-label flex space-between align-center"},[t._m(2),s("div",{staticClass:"guest-btns flex align-center space-between"},[s("button",{attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.updateGuests("children",-1)}}},[s("span",{staticClass:"material-icons-sharp"},[t._v(" remove ")])]),s("span",{staticClass:"guests-num"},[t._v(t._s(t.children))]),s("button",{attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.updateGuests("children",1)}}},[s("span",{staticClass:"material-icons-sharp"},[t._v(" add ")])])])])]):t._e()]),s("button",{ref:"button",staticClass:"reserve-btn clickable trackable pretty-btn",on:{mousemove:function(e){return t.set(e)}}},[s("span",[t._v(" "+t._s(t.buttonText))])])],1),t.readyToReserve?s("div",{staticClass:"pricing"},[s("p",[t._v("You won't be charged yet")]),s("p",[s("span",[t._v("Price")]),s("span",[t._v(" $"+t._s(t.calculateTotalPrice))])]),s("p",[s("span",[t._v("Service fee")]),t._v(" "),s("span",[t._v("$"+t._s(t.fees))])]),s("p",[s("span",[t._v("Total")]),s("span",[t._v(" $"+t._s(t.calculateTotalPriceWithFees))])])]):t._e()]),t.congratsModal?s("div",{staticClass:"congrats-modal-container"},[s("div",{staticClass:"congrats-modal"},[s("div",{staticClass:"closeModal"},[s("div",[s("a",{staticClass:"btn"},[s("span",{staticClass:"material-icons",on:{click:function(e){e.stopPropagation(),t.congratsModal=!t.congratsModal}}},[t._v(" close ")])])])]),s("div",{staticClass:"title"},[t._v("Order sent to host!")]),s("div",{staticClass:"title-1"},[t._v("Your host will reply shortly")]),s("div",{staticClass:"title-2"},[t._v(" You won't be charged until the host approves your order ")]),s("div",{staticClass:"separator"}),s("div",{staticClass:"links-container"},[s("router-link",{staticClass:"btn",attrs:{to:"/"}},[t._v("Home page ")]),s("router-link",{staticClass:"btn",attrs:{to:"/trips"}},[t._v("Share your stay ")])],1)])]):t._e()])},Is=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"star-preview"},[s("span",{staticClass:"material-icons-outlined star"},[t._v("star")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"guest-label flex column"},[s("span",[t._v("Adults")]),s("span",[t._v("Ages 13+")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"guest-label flex column"},[s("span",[t._v("Children")]),s("span",[t._v("Ages 2-12")])])}],Ns=(s("a9e3"),s("b64b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{staticClass:"login-container"},[s("p"),this.newUser?s("section",{staticClass:"login-form-container flex column"},[s("form",{staticClass:"login-form",on:{submit:function(e){return e.preventDefault(),t.doSignup.apply(null,arguments)}}},[t._m(1),s("div",{staticClass:"login-form-body flex column"},[s("h1",[t._v("Welcome to Kumba")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.fullname,expression:"signupCred.fullname"}],staticClass:"login-input",attrs:{type:"text",name:"fullname",placeholder:"Full name"},domProps:{value:t.signupCred.fullname},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"fullname",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.password,expression:"signupCred.password"}],staticClass:"login-input",attrs:{name:"password",type:"password",placeholder:"Password",autocomplete:"current-password"},domProps:{value:t.signupCred.password},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"password",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.username,expression:"signupCred.username"}],staticClass:"login-input",attrs:{type:"text",name:"username",placeholder:"Username",autocomplete:"username"},domProps:{value:t.signupCred.username},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"username",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.email,expression:"signupCred.email"}],staticClass:"login-input",attrs:{type:"text",name:"email",placeholder:"Email",autocomplete:"Email"},domProps:{value:t.signupCred.email},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"email",e.target.value)}}}),s("p",[t._v(t._s(t.msg))]),s("button",{staticClass:"login-btn clickable",attrs:{type:"submit"}},[t._v("Sign up")]),s("div",{staticClass:"login-actions-btn flex space-between"},[s("button",{staticClass:"toggle-form-btn actions-btn",attrs:{type:"button"},on:{click:function(e){return t.toggleForm()}}},[t._v(" I already have an account ")])])])])]):s("section",{staticClass:"login-form-container flex column"},[s("form",{staticClass:"login-form",on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[t._m(0),s("div",{staticClass:"login-form-body flex column"},[s("h1",[t._v("Welcome back")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCred.username,expression:"loginCred.username"}],staticClass:"login-input",attrs:{type:"text",name:"username",autocomplete:"off",placeholder:"Username"},domProps:{value:t.loginCred.username},on:{input:function(e){e.target.composing||t.$set(t.loginCred,"username",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCred.password,expression:"loginCred.password"}],staticClass:"login-input",attrs:{type:"password",name:"password",autocomplete:"off",placeholder:"Password"},domProps:{value:t.loginCred.password},on:{input:function(e){e.target.composing||t.$set(t.loginCred,"password",e.target.value)}}}),s("p",[t._v(t._s(t.msg))]),s("button",{staticClass:"login-btn clickable",attrs:{type:"submit"}},[t._v("Submit")]),s("div",{staticClass:"login-actions-btns flex space-between"},[s("button",{staticClass:"toggle-form-btn actions-btn",attrs:{type:"button"},on:{click:function(e){return t.toggleForm()}}},[t._v(" New user ")])])])])])])}),Hs=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-form-header"},[s("h2",[t._v("Log in")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-form-header"},[s("h2",[t._v("Sign up")])])}],Gs={name:"log-in",data:function(){return{msg:"",newUser:!1,loggedinUser:{nickname:null},loginCred:{username:"",password:""},signupCred:{username:"",password:"",fullname:"",email:""}}},created:function(){var t="login";this.$store.commit({type:"setCurrPage",page:t})},methods:{toggleForm:function(){this.newUser=!this.newUser,this.msg=""},login:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loginCred.username&&t.loginCred.password){e.next=3;break}return t.msg="Please enter name and password",e.abrupt("return");case 3:return e.prev=3,e.next=6,t.$store.dispatch({type:"login",userCred:t.loginCred});case 6:t.$router.push("/"),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](3),console.log(e.t0),t.msg="Failed to login";case 13:case"end":return e.stop()}}),e,null,[[3,9]])})))()},logout:function(){userService.logoutUser(),this.loggedinUser.nickname=null,this.loggedin=!this.loggedin},doSignup:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.signupCred.fullname&&t.signupCred.password&&t.signupCred.username&&t.signupCred.email){e.next=3;break}return t.msg="Please fill up the form",e.abrupt("return");case 3:return e.next=5,t.$store.dispatch({type:"signup",userCred:t.signupCred});case 5:t.$router.push("/");case 6:case"end":return e.stop()}}),e)})))()}}},Ws=Gs,Ys=Object(g["a"])(Ws,Ns,Hs,!1,null,null,null),zs=Ys.exports,Js={name:"order-modal",props:{stay:Object,conHeight:Number},data:function(){return{modalHeight:null,congratsModal:!1,shouldShow:!1,trip:{guests:{adults:0,children:0},destination:null,dates:{}},readyToReserve:!1,mouse:{x:null,y:null},order:{_id:null,dates:{},guests:{adults:0,children:0},buyer:{_id:null,fullname:null},stay:{_id:null,name:null,price:null,imgUrls:null,propertyType:null},hostId:null,status:"pending"},loggedinUser:null,miniModal:!1}},created:function(){this.trip=this.$store.getters.getCurrTrip,this.loggedinUser=this.$store.getters.loggedinUser,window.addEventListener("scroll",this.handleScroll)},mounted:function(){this.getModalHeight()},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{getModalHeight:function(){this.modalHeight=this.$refs.modal.clientHeight},handleScroll:function(){this.miniModal=window.scrollY>=this.conHeight+this.modalHeight},goToSection:function(t){console.log("goinng to section ",t),this.$router.push("/stay/".concat(this.stay._id,"/#").concat(t)).catch((function(){}))},focusOnInput:function(){this.$refs.calendar.focusInput()},placeOrder:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var s,a,r,i,n,o,c,l,u,d,p,v,h,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=t.$store.getters.loggedinUser,s){e.next=5;break}H("Please log in first","danger"),e.next=26;break;case 5:if(a=Object.keys(t.trip.dates).length,!(!t.trip.guests.children&&!t.trip.guests.adults||a<1)){e.next=12;break}return console.log("Not enough data"),t.focusOnInput(),e.abrupt("return");case 12:return r=t.trip,i=r.dates,n=r.guests,o=t.stay,c=o._id,l=o.name,u=o.price,d=o.imgUrls,p=o.propertyType,v=o.host,t.order={dates:i,guests:n,stay:{_id:c,name:l,price:u,imgUrls:d,propertyType:p}},t.order.buyer={_id:t.loggedinUser._id,fullname:t.loggedinUser.fullname,imgUrl:t.loggedinUser.imgUrl},t.order.host=v,t.order.status="pending",h=JSON.parse(JSON.stringify(t.order)),console.log(h),e.next=22,t.$store.dispatch({type:"addOrder",order:h});case 22:f=e.sent,console.log(f),t.congratsModal=!0,setTimeout((function(){t.congratsModal=!1,t.$router.push("/")}),6e3);case 26:case"end":return e.stop()}}),e)})))()},updateGuests:function(t,e){0===this.trip.guests[t]&&-1===e||(this.trip.guests[t]+=e,this.updateTrip())},updateTrip:function(){console.log("updating trip",this.trip);var t=this.trip;this.$store.commit({type:"setTrip",trip:t})},updateDates:function(t){this.trip.dates=t,this.updateTrip()},set:function(t){var e=this.$refs.button,s=t.offsetX,a=t.offsetY;e.style.setProperty("--mouse-x",s),e.style.setProperty("--mouse-y",a)}},computed:{children:function(){return null===this.trip.guests.children?0:this.trip.guests.children},adults:function(){return null===this.trip.guests.adults?0:this.trip.guests.adults},numOfGuests:function(){var t=this.trip.guests.children+this.trip.guests.adults;return t>1?t+" guests":1===t?t+" guest":"Add guests"},buttonText:function(){var t=Object.keys(this.trip.dates).length;return(this.trip.guests.adults||this.trip.guests.children)&&t>1?(this.readyToReserve=!0,"Reserve"):(this.readyToReserve=!1,"Check availability")},reviewsRateAvg:function(){var t=0;return this.stay.reviews.forEach((function(e){var s=function(t){return Object.values(t).reduce((function(t,e){return t+e}))},a=s(e.rate),r=a/6;t+=r})),t/=this.stay.reviews.length,t.toFixed(1)},calculateTotalPrice:function(){var t=Object.keys(this.trip.dates).length;if(t>1){var e=this.trip.dates,s=e.start,a=e.end,r=(a.getTime()-s.getTime())/864e5;return Number(parseInt(this.stay.price*r)).toLocaleString()}},calculateTotalPriceWithFees:function(){var t=Object.keys(this.trip.dates).length;if(t>1){var e=this.trip.dates,s=e.start,a=e.end,r=(a.getTime()-s.getTime())/864e5;return Number(parseInt(this.stay.price*r+25)).toLocaleString()}},fees:function(){return 25}},components:{tripCalendar2:k,showMsg:H}},Vs=Js,qs=Object(g["a"])(Vs,Bs,Is,!1,null,null,null),Xs=qs.exports,Zs={name:"stayDetails",components:{stayGallery:ie,stayShortInfo:We,stayFeatures:Xe,stayDescription:ss,stayReviews:Fs,orderModal:Xs},data:function(){return{conHeight:null}},computed:{hostName:function(){var t=this.stay.host.fullname.split(" ");return t[0]},stay:function(){return this.$store.getters.getCurrStay},reviewsAvg:function(){var t=this.stay.reviews.reduce((function(t,e){return t+e.rate}),0),e=t/this.stay.reviews.length||0;return e=(Math.round(100*e)/100).toFixed(1),e},reviewsCount:function(){var t=this.stay.reviews.length;if(console.log(t,"reviews"),t=1)var e="(".concat(t," review)");else e="(".concat(t," reviews)");return e},reviewRateAvg:function(){console.log(this.stay.reviews[0].rate);var t=function(t){return Object.values(t).reduce((function(t,e){return t+e}))},e=t(this.stay.reviews[0].rate);return console.log("sum",e),e/6}},methods:{getContainerHeight:function(){this.conHeight=this.$refs.displayContainer.clientHeight}},updated:function(){this.getContainerHeight()},watch:{"$route.params.stayId":{handler:function(){var t=this.$route.params.stayId;console.log("Changed to",t),this.$store.dispatch({type:"setCurrStay",stayId:t});var e="stayDetails";this.$store.commit({type:"setCurrPage",page:e})},immediate:!0}}},Ks=Zs,Qs=Object(g["a"])(Ks,Kt,Qt,!1,null,null,null),ta=Qs.exports,ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"main-layout2 become-host"},[a("img",{staticClass:"become-host-img",attrs:{src:s("9073"),alt:""}}),a("div",{staticClass:"become-host-info"},[a("h1",[t._v("Become a member of the Kumba host family")]),a("button",{staticClass:"clickable",on:{click:t.goHost}},[a("h3",[t._v("Get started")])])])])},sa=[],aa={name:"host",methods:{goHost:function(){this.$router.push("/dashboard").catch((function(){}))}},created:function(){var t="host";this.$store.commit({type:"setCurrPage",page:t})}},ra=aa,ia=Object(g["a"])(ra,ea,sa,!1,null,null,null),na=ia.exports,oa=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ca=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("h1",[t._v("help")])])}],la={name:"help"},ua=la,da=Object(g["a"])(ua,oa,ca,!1,null,null,null),pa=da.exports,va=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ha=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"main-layout2"},[s("h1",[t._v("user-messages")])])}],fa={name:"user-messages"},ga=fa,ma=Object(g["a"])(ga,va,ha,!1,null,null,null),ya=ma.exports,_a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"notifications-page main-layout2"},[s("h1",{staticClass:"notifications-header"},[t._v("My notifications")]),s("section",{staticClass:"notifications-list flex column"},[s("div",{staticClass:"notifications-container"},t._l(t.notifications,(function(e,a){return s("div",{key:a,staticClass:"\n          notifications-card\n          flex\n          space-between\n          gray-box-shadow\n          align-center\n        "},[s("img",{staticClass:"host-img",attrs:{src:e.from.imgUrl,alt:""}}),s("span",{staticClass:"flex column"},[s("h3",[t._v(t._s(e.from.fullname))])]),s("h4",{staticClass:"notifications-card-txt"},[t._v(" "+t._s(e.txt)+" ")]),s("a",{staticClass:"trips-link",attrs:{href:"#/orders"}},[t._v("Read More")])])})),0),s("button",{staticClass:"clear-all-btn clickable"},[t._v("Clear all")])])])},Ca=[],ba={name:"user-notifications",data:function(){return{notifications:notifications}},computed:{notifications:function(){return this.$store.getters.notifications},dateToShow:function(t){var e=new Date(t.createdAt),s=e.getFullYear(),a=e.getMonth()+1,r=e.getDate(),i=r+"/"+a+"/"+s;return i}},created:function(){var t="notifications";this.$store.commit({type:"setCurrPage",page:t})}},wa=ba,xa=Object(g["a"])(wa,_a,Ca,!1,null,null,null),ka=xa.exports,Oa=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Sa=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"main-layout2"},[s("h1",{staticClass:"trip-header"},[t._v("trips")]),s("div",{staticClass:"trip-filter-container gray-box-shadow"},[s("button",{staticClass:"selected"},[t._v("Upcoming")]),s("button",[t._v("Past")])]),s("section",{staticClass:"trip-list-container"},[s("a",{staticClass:"trip-preview clickable flex column",attrs:{href:"#/stay/60b6295405f90634a56b9713"}},[s("div",{staticClass:"img-container"},[s("img",{attrs:{src:"https://res.cloudinary.com/home-to-go/image/upload/v1622624435/n48261nvrzczxfggzozr.webp",alt:"stay"}})]),s("div",{staticClass:"trip-details-container flex column space-between"},[s("h3",{staticClass:"flex align-center space-between"},[t._v(" Mountain room apartement "),s("p",{staticClass:"flex column"},[s("span",[t._v("Wed Dec 08 2021")]),s("span",[t._v("Thu Dec 16 2021")])])]),s("h4",{staticClass:"order-price"},[t._v("$680")]),s("h4",{staticClass:"order-status false false"},[t._v("wait for approval")]),s("div",{staticClass:"order-cancelation flex space-between align-center"},[s("h4",[t._v("Non-refundable")]),s("button",{staticClass:"cancel-disabled clickable",attrs:{disabled:""}},[t._v(" Cancel order ")])])])]),s("a",{staticClass:"trip-preview clickable flex column",attrs:{href:"#/stay/60b6295405f90634a56b9713"}},[s("div",{staticClass:"img-container"},[s("img",{attrs:{src:"https://res.cloudinary.com/home-to-go/image/upload/v1622624435/n48261nvrzczxfggzozr.webp",alt:"stay"}})]),s("div",{staticClass:"trip-details-container flex column space-between"},[s("h3",{staticClass:"flex align-center space-between"},[t._v(" Mountain room apartement "),s("p",{staticClass:"flex column"},[s("span",[t._v("Wed Dec 08 2021")]),s("span",[t._v("Thu Dec 16 2021")])])]),s("h4",{staticClass:"order-price"},[t._v("$680")]),s("h4",{staticClass:"order-status false false"},[t._v("wait for approval")]),s("div",{staticClass:"order-cancelation flex space-between align-center"},[s("h4",[t._v("Non-refundable")]),s("button",{staticClass:"cancel-disabled clickable",attrs:{disabled:""}},[t._v(" Cancel order ")])])])]),s("a",{staticClass:"trip-preview clickable flex column",attrs:{href:"#/stay/60b6295405f90634a56b9713"}},[s("div",{staticClass:"img-container"},[s("img",{attrs:{src:"https://res.cloudinary.com/home-to-go/image/upload/v1622624435/n48261nvrzczxfggzozr.webp",alt:"stay"}})]),s("div",{staticClass:"trip-details-container flex column space-between"},[s("h3",{staticClass:"flex align-center space-between"},[t._v(" Mountain room apartement "),s("p",{staticClass:"flex column"},[s("span",[t._v("Wed Dec 08 2021")]),s("span",[t._v("Thu Dec 16 2021")])])]),s("h4",{staticClass:"order-price"},[t._v("$680")]),s("h4",{staticClass:"order-status false false"},[t._v("wait for approval")]),s("div",{staticClass:"order-cancelation flex space-between align-center"},[s("h4",[t._v("Non-refundable")]),s("button",{staticClass:"cancel-disabled clickable",attrs:{disabled:""}},[t._v(" Cancel order ")])])])]),s("a",{staticClass:"trip-preview clickable flex column",attrs:{href:"#/stay/60b6295405f90634a56b9713"}},[s("div",{staticClass:"img-container"},[s("img",{attrs:{src:"https://res.cloudinary.com/home-to-go/image/upload/v1622624435/n48261nvrzczxfggzozr.webp",alt:"stay"}})]),s("div",{staticClass:"trip-details-container flex column space-between"},[s("h3",{staticClass:"flex align-center space-between"},[t._v(" Mountain room apartement "),s("p",{staticClass:"flex column"},[s("span",[t._v("Wed Dec 08 2021")]),s("span",[t._v("Thu Dec 16 2021")])])]),s("h4",{staticClass:"order-price"},[t._v("$680")]),s("h4",{staticClass:"order-status false false"},[t._v("wait for approval")]),s("div",{staticClass:"order-cancelation flex space-between align-center"},[s("h4",[t._v("Non-refundable")]),s("button",{staticClass:"cancel-disabled clickable",attrs:{disabled:""}},[t._v(" Cancel order ")])])])]),s("a",{staticClass:"trip-preview clickable flex column",attrs:{href:"#/stay/60b6295405f90634a56b9713"}},[s("div",{staticClass:"img-container"},[s("img",{attrs:{src:"https://res.cloudinary.com/home-to-go/image/upload/v1622624435/n48261nvrzczxfggzozr.webp",alt:"stay"}})]),s("div",{staticClass:"trip-details-container flex column space-between"},[s("h3",{staticClass:"flex align-center space-between"},[t._v(" Mountain room apartement "),s("p",{staticClass:"flex column"},[s("span",[t._v("Wed Dec 08 2021")]),s("span",[t._v("Thu Dec 16 2021")])])]),s("h4",{staticClass:"order-price"},[t._v("$680")]),s("h4",{staticClass:"order-status false false"},[t._v("wait for approval")]),s("div",{staticClass:"order-cancelation flex space-between align-center"},[s("h4",[t._v("Non-refundable")]),s("button",{staticClass:"cancel-disabled clickable",attrs:{disabled:""}},[t._v(" Cancel order ")])])])]),s("a",{staticClass:"trip-preview clickable flex column",attrs:{href:"#/stay/60b6295405f90634a56b9713"}},[s("div",{staticClass:"img-container"},[s("img",{attrs:{src:"https://res.cloudinary.com/home-to-go/image/upload/v1622624435/n48261nvrzczxfggzozr.webp",alt:"stay"}})]),s("div",{staticClass:"trip-details-container flex column space-between"},[s("h3",{staticClass:"flex align-center space-between"},[t._v(" Mountain room apartement "),s("p",{staticClass:"flex column"},[s("span",[t._v("Wed Dec 08 2021")]),s("span",[t._v("Thu Dec 16 2021")])])]),s("h4",{staticClass:"order-price"},[t._v("$680")]),s("h4",{staticClass:"order-status false false"},[t._v("wait for approval")]),s("div",{staticClass:"order-cancelation flex space-between align-center"},[s("h4",[t._v("Non-refundable")]),s("button",{staticClass:"cancel-disabled clickable",attrs:{disabled:""}},[t._v(" Cancel order ")])])])]),s("a",{staticClass:"trip-preview clickable flex column",attrs:{href:"#/stay/60b6295405f90634a56b9713"}},[s("div",{staticClass:"img-container"},[s("img",{attrs:{src:"https://res.cloudinary.com/home-to-go/image/upload/v1622624435/n48261nvrzczxfggzozr.webp",alt:"stay"}})]),s("div",{staticClass:"trip-details-container flex column space-between"},[s("h3",{staticClass:"flex align-center space-between"},[t._v(" Mountain room apartement "),s("p",{staticClass:"flex column"},[s("span",[t._v("Wed Dec 08 2021")]),s("span",[t._v("Thu Dec 16 2021")])])]),s("h4",{staticClass:"order-price"},[t._v("$680")]),s("h4",{staticClass:"order-status false false"},[t._v("wait for approval")]),s("div",{staticClass:"order-cancelation flex space-between align-center"},[s("h4",[t._v("Non-refundable")]),s("button",{staticClass:"cancel-disabled clickable",attrs:{disabled:""}},[t._v(" Cancel order ")])])])])])])}],$a={name:"user-trips",created:function(){var t="trips";this.$store.commit({type:"setCurrPage",page:t})}},Pa=$a,Ta=Object(g["a"])(Pa,Oa,Sa,!1,null,null,null),Ea=Ta.exports,ja=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"main-layout2 wish-list"},[s("h1",{staticClass:"user-wishlist-h1"},[t._v("My wishlist")]),s("stay-list",{attrs:{stays:t.wishStays}})],1)},Ma=[],Aa=(s("caad"),s("2532"),{name:"user-wishlist",components:{stayList:Jt},data:function(){return{currUser:null,stays:null}},created:function(){this.currUser=$e.getLoggedinUser(),this.stays=this.$store.getters.staysToShow;var t="wishlist";this.$store.commit({type:"setCurrPage",page:t})},computed:{wishStays:function(){var t=this,e=[];return this.stays.forEach((function(s){var a=s._id;console.log(a),t.currUser.wishList.includes(a)&&(console.log("adding",a),e.push(s))})),e}},watch:{$route:{handler:function(){this.currTrip=this.$store.getters.getCurrTrip;var t=this.$route.query.destination;this.currTrip.destination=t},immediate:!0}}}),Ua=Aa,Da=Object(g["a"])(Ua,ja,Ma,!1,null,null,null),La=Da.exports,Ra=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"main-layout2 dashboard-page"},[s("section",{staticClass:"dashboard-container flex space-between column"},[s("section",{staticClass:"dash-main-container flex column"},[s("section",{staticClass:"dash-header flex space-between"},[s("div",{staticClass:"dash-nav flex column space-evenly"},[s("div",{staticClass:"header-menu"},[s("button",{staticClass:"clean-btn clickable",attrs:{value:"my Stays"},on:{click:function(e){return t.showMyStays()}}},[s("span",{staticClass:"material-icons"},[t._v(" cottage")]),t._v(" My Stays ")])]),s("div",{staticClass:"header-menu"},[s("button",{staticClass:"clean-btn clickable",attrs:{value:"orders"},on:{click:function(e){return t.showMyOrders()}}},[s("span",{staticClass:"material-icons"},[t._v("list_alt")]),t._v(" My Orders ")])])]),s("div",{staticClass:"stats-container flex space-between"},[s("div",{staticClass:"total-rate dash-div"},[s("h3",[t._v("Total Rate")]),s("div",{staticClass:"flex space-between column rates-data"},[s("div",[s("span",{staticClass:"flex"},[s("i",{staticClass:"fa fa-star",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.totalRateAvg)+" "),s("small",{staticClass:"avg"},[t._v(" avg")])])]),s("div",{staticClass:"flex space-between"},[s("span",[t._v(t._s(t.totalRateCount)+" "),s("small",[t._v("reviews")])])])])]),s("div",{staticClass:"dash-div"},[s("h3",[t._v("Total revenues")]),s("div",[s("table",[t._m(0),s("tr",[s("td",{staticClass:"nums-td"},[t._v("$"+t._s(t.monthEarningToShow))]),s("td",{staticClass:"nums-td"},[t._v("$"+t._s(t.yearEarningToShow))]),s("td",{staticClass:"nums-td"},[t._v("$"+t._s(t.totalEarningToShow))])])])])]),s("div",{staticClass:"orders-div dash-div"},[s("h3",[t._v("Orders")]),s("div",{staticClass:"flex column"},[s("table",[t._m(1),s("tr",[s("td",{staticClass:"nums-td"},[t._v(t._s(t.totalOrders))]),s("td",{staticClass:"nums-td"},[t._v(t._s(t.pendingOrders))]),s("td",{staticClass:"nums-td"},[t._v(t._s(t.approvedOrders))]),s("td",{staticClass:"nums-td"},[t._v(t._s(t.declinedOrders))])])])])]),s("div",{staticClass:"dash-div"},[s("div",[s("h3",[t._v("Guests")]),s("span"),s("table",[t._m(2),s("tr",[s("td",{staticClass:"nums-td"},[t._v(t._s(t.activeGuests))]),s("td",{staticClass:"nums-td"},[t._v(t._s(t.pastGuests))]),s("td",{staticClass:"nums-td"},[t._v(t._s(t.plannedGuests))])])])])])])]),s("section",{staticClass:"dash-info-container"},[s("section",{staticClass:"host-stay-container"},["my stays"===t.shouldShow?s("section",{staticClass:"host-stay-list"},[s("div",{staticClass:"host-stay-list-table"},[t._m(3),s("div",{staticClass:"tbody"},t._l(t.myStays,(function(e){return s("div",{key:e.id,staticClass:"host-stay-preview gray-box-shadow"},[s("span",{staticClass:"flex align-center"},[s("img",{staticClass:"stay-icon",attrs:{src:e.imgUrls[0],alt:""}})]),s("span",[s("a",{attrs:{href:"#/stay/60b624e305f90634a567b2ac"}},[t._v(t._s(e.name))])]),s("span",[s("a",{attrs:{href:"#/stay/60b624e305f90634a567b2ac"}},[t._v("$ "+t._s(e.price))])]),s("span",[s("a",{attrs:{href:"#/stay/60b624e305f90634a567b2ac"}},[t._v(t._s(e.loc.country)+" , "+t._s(e.loc.city))])]),t._m(4,!0)])})),0)])]):t._e(),"my orders"===t.shouldShow?s("section",{staticClass:"host-order-list"},[s("section",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"host-order-container"},[s("section",{staticClass:"host-order-list"},[s("div",{staticClass:"host-order-list-table"},[t._m(5),s("div",{staticClass:"tbody"},t._l(t.myOrders,(function(t){return s("order-data",{key:t._id,staticClass:"host-stay-preview gray-box-shadow",attrs:{order:t}})})),1)])])])]):t._e()])])]),s("section",{staticClass:"cards-container flex column space-between align-center"},["my orders"===t.shouldShow?s("div",[s("h1",[t._v("My orders")]),t._l(t.myOrders,(function(t){return s("order-cards",{key:t._id,attrs:{order:t}})}))],2):t._e(),"my stays"===t.shouldShow?s("div",[s("h1",[t._v("My stays")]),t._l(t.myStays,(function(t){return s("stay-cards",{key:t._id,attrs:{stay:t}})}))],2):t._e()])])])},Fa=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{attrs:{title:"Past month"}},[t._v("Month")]),s("td",{attrs:{title:"Past year"}},[t._v("Year")]),s("td",{attrs:{title:"All revenues"}},[t._v("Total")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",[t._v("Total")]),s("td",[t._v("Pending")]),s("td",[t._v("Approved")]),s("td",[t._v("Declined")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",[t._v("Active")]),s("td",[t._v("Past")]),s("td",[t._v("Planned")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"thead"},[s("div",{staticClass:"thead-container gray-box-shadow"},[s("span",{staticClass:"guest-img"}),s("span",[t._v("Name")]),s("span",[t._v("Price per night")]),s("span",[t._v("Address")]),s("span",{staticClass:"stay-actions"},[t._v("Actions")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"stay-actions"},[s("button",{staticClass:"clean-btn clickable"},[s("i",{staticClass:"fa fa-edit",attrs:{"aria-hidden":"true"}}),t._v("Edit ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"thead"},[s("div",{staticClass:"thead-container gray-box-shadow"},[s("span",{staticClass:"guest-img"}),s("span",[t._v("Guest name")]),s("span",[t._v("Stay name")]),s("span",[t._v("Check in - check out")]),s("span",[t._v("Status")]),s("span",[t._v("Revenue")]),s("span",[t._v("Actions")])])])}],Ba=(s("4e82"),s("fb6a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"flex align-center"},[s("img",{staticClass:"guest-img",attrs:{src:t.order.buyer.imgUrl}})]),s("span",[t._v(t._s(t.order.buyer.fullname))]),s("span",[t._v(t._s(t.order.stay.name))]),s("span",[t._v(t._s(t.startDateToShow)+" - "+t._s(t.endDateToShow)+" ")]),s("span",{staticClass:"capitalize"},[t._v(t._s(t.order.status))]),s("span",[t._v("$ "+t._s(this.totalPrice))]),s("section",{staticClass:"pre-approved"},["pending"===this.order.status?s("button",{staticClass:"approve-btn",on:{click:t.approve}},[t._v("Approve")]):t._e(),"pending"===this.order.status?s("button",{staticClass:"decline-btn",on:{click:t.decline}},[t._v("Decline")]):t._e(),"declined"===this.order.status?s("button",{staticClass:"approve-btn",on:{click:t.approve}},[t._v("Approve")]):t._e(),"approved"===this.order.status?s("button",{staticClass:"decline-btn",on:{click:t.decline}},[t._v("Decline")]):t._e()])])}),Ia=[],Na={name:"order-data",props:{order:{type:Object,default:{}}},data:function(){return{totalPrice:null}},created:function(){var t=this.order.dates,e=t.start,s=t.end,a=(Date.parse(s)-Date.parse(e))/864e5;this.totalPrice=Number(parseInt(a*this.order.stay.price)).toLocaleString()+".00"},computed:{startDateToShow:function(){var t=new Date(this.order.dates.start),e=(t.getFullYear(),t.getMonth()+1),s=t.getDate(),a=s+"/"+e+"/"+t.getFullYear();return a},endDateToShow:function(){var t=new Date(this.order.dates.end),e=t.getFullYear(),s=t.getMonth()+1,a=t.getDate(),r=a+"/"+s+"/"+e;return r}},methods:{approve:function(){console.log("approved"),this.order.status="approved";var t=JSON.parse(JSON.stringify(this.order));this.$store.dispatch({type:"updateOrder",order:t})},decline:function(){console.log("declined"),this.order.status="declined";var t=JSON.parse(JSON.stringify(this.order));this.$store.dispatch({type:"updateOrder",order:t})}}},Ha=Na,Ga=Object(g["a"])(Ha,Ba,Ia,!1,null,null,null),Wa=Ga.exports,Ya=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order-card"},[s("div",{staticClass:"order-card-header flex"},[s("img",{staticClass:"guest-img",attrs:{src:t.order.buyer.imgUrl}}),s("span",{staticClass:"card-key"},[t._v(t._s(t.order.buyer.fullname))])]),s("div",[s("span",{staticClass:"card-key"},[t._v("Status:")]),s("span",[t._v(t._s(t.order.status))])]),s("div",[s("span",{staticClass:"card-key"},[t._v("Dates:")]),s("span",[t._v(t._s(t.startDateToShow)+" - "+t._s(t.endDateToShow)+" ")])]),s("div",[s("span",{staticClass:"card-key"},[t._v("Expected revenue:")]),s("span",[t._v("$ "+t._s(this.totalPrice))])]),s("div",[s("span",{staticClass:"card-key"},[t._v("Stay:")]),t._v(" "),s("span",[t._v(t._s(t.order.stay.name))])]),s("div",{staticClass:"card-actions"},[s("section",{staticClass:"pre-approved"},["pending"===this.order.status?s("button",{staticClass:"approve-btn",on:{click:t.approve}},[t._v(" Approve ")]):t._e(),"pending"===this.order.status?s("button",{staticClass:"decline-btn",on:{click:t.decline}},[t._v(" Decline ")]):t._e(),"declined"===this.order.status?s("button",{staticClass:"approve-btn",on:{click:t.approve}},[t._v(" Approve ")]):t._e(),"approved"===this.order.status?s("button",{staticClass:"decline-btn",on:{click:t.decline}},[t._v(" Decline ")]):t._e()])])])},za=[],Ja={name:"order-cards",props:{order:{type:Object,default:{}}},data:function(){return{totalPrice:null}},created:function(){var t=this.order.dates,e=t.start,s=t.end,a=(Date.parse(s)-Date.parse(e))/864e5;this.totalPrice=Number(parseInt(a*this.order.stay.price)).toLocaleString()+".00"},computed:{startDateToShow:function(){var t=new Date(this.order.dates.start),e=(t.getFullYear(),t.getMonth()+1),s=t.getDate(),a=s+"/"+e+"/"+t.getFullYear();return a},endDateToShow:function(){var t=new Date(this.order.dates.end),e=t.getFullYear(),s=t.getMonth()+1,a=t.getDate(),r=a+"/"+s+"/"+e;return r}},methods:{approve:function(){console.log("approved"),this.order.status="approved";var t=JSON.parse(JSON.stringify(this.order));this.$store.dispatch({type:"updateOrder",order:t})},decline:function(){console.log("declined"),this.order.status="declined";var t=JSON.parse(JSON.stringify(this.order));this.$store.dispatch({type:"updateOrder",order:t})}}},Va=Ja,qa=Object(g["a"])(Va,Ya,za,!1,null,null,null),Xa=qa.exports,Za=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"stay-card"},[s("div",{staticClass:"stay-card-header flex "},[s("img",{staticClass:"guest-img",attrs:{src:t.stay.imgUrls[0]}}),s("span",{staticClass:"card-key"},[t._v(t._s(t.stay.name))])]),s("div",[s("span",{staticClass:"card-key"},[t._v("Price per night:")]),s("span",[t._v("$ "+t._s(t.stay.price))])]),s("div",[s("span",{staticClass:"card-key"},[t._v("Address:")]),s("span",[t._v(t._s(t.stay.loc.country)+" , "+t._s(t.stay.loc.city)+" ")])]),s("div",[s("span",{staticClass:"card-key"},[t._v("Property type:")]),t._v(" "),s("span",[t._v(t._s(t.stay.propertyType))])]),s("div",[s("span",{staticClass:"card-key"},[t._v("Capacity:")]),t._v(" "),s("span",[t._v(t._s(t.stay.capacity))])]),t._m(0)])},Ka=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-actions flex space-between"},[s("button",{staticClass:"clean-btn clickable ",attrs:{title:"Edit"}},[s("span",{staticClass:"material-icons-outlined"},[t._v("edit")])]),s("button",{staticClass:"clean-btn clickable ",attrs:{title:"Delete"}},[s("span",{staticClass:"material-icons-outlined"},[t._v("delete")])])])}],Qa={name:"stay-cards",props:{stay:{type:Object,default:{}}},data:function(){return{}},created:function(){},computed:{},methods:{}},tr=Qa,er=Object(g["a"])(tr,Za,Ka,!1,null,null,null),sr=er.exports,ar={name:"host-dashboard",components:{orderData:Wa,orderCards:Xa,stayCards:sr},data:function(){return{currUser:null,shouldShow:"my orders",allOrders:[],myOrders:[],allStays:[],myStays:[]}},created:function(){var t="hostDashboard";this.$store.commit({type:"setCurrPage",page:t}),this.currUser=this.$store.getters.loggedinUser,console.log(this.currUser),this.allOrders=this.$store.getters.getOrders,console.log(this.allOrders),this.myOrders=this.userOrders,this.allStays=this.getAllStays,this.userStays},computed:{loading:function(){this.$store.getters.isLoading},getDemoOrders:function(){return this.$store.getters.getDemoOrders},getUser:function(){return this.$store.getters.loggedinUser},getAllStays:function(){var t=this.$store.getters.staysToShow;return t},userStays:function(){var t=this;this.allStays.forEach((function(e){var s=e.host.fullname;t.currUser.fullname===s&&t.myStays.push(e)}))},userOrders:function(){var t=this,e=[];return console.log(this.allOrders),this.allOrders.forEach((function(s){var a=s.host._id;console.log("userid",t.currUser._id,"hostid",a),t.currUser._id===a&&(console.log(s.dates),e.push(s))})),console.log(e),e.sort((function(t,e){return new Date(e.dates.start)-new Date(t.dates.start)})),e},totalRateAvg:function(){var t=0,e=0;return this.myStays.forEach((function(s){s.reviews.forEach((function(s){var a=Object.values(s.rate);t+=a.length;var r=a.reduce((function(t,e){return t+e}),0);e+=r}))})),(e/t).toFixed(1)},totalRateCount:function(){var t=0;return this.myStays.forEach((function(e){e.reviews.forEach((function(e){Object.values(e.rate);t++}))})),t},totalOrders:function(){return this.myOrders.length},pendingOrders:function(){var t=0;if(this.myOrders.length>0)return this.myOrders.forEach((function(e){"pending"===e.status&&t++})),t},approvedOrders:function(){var t=0;return this.myOrders.length>0&&this.myOrders.forEach((function(e){"approved"===e.status&&t++})),t},declinedOrders:function(){var t=0;return this.myOrders.length>0&&this.myOrders.forEach((function(e){"declined"===e.status&&t++})),t},totalEarningToShow:function(){var t=[];this.myOrders.length>0&&this.myOrders.forEach((function(e){var s=e.dates,a=s.start,r=s.end,i=(Date.parse(r)-Date.parse(a))/864e5,n=parseInt(i*e.stay.price);t.push(n)}));var e=t.reduce((function(t,e){return t+e}),0);return Number(e).toLocaleString()},yearEarningToShow:function(){var t=[];this.myOrders.length>0&&this.myOrders.forEach((function(e){var s=(new Date).getFullYear()+"",a=e.dates.start.slice(0,e.dates.start.indexOf("-"));if(a===s){var r=e.dates,i=r.start,n=r.end,o=(Date.parse(n)-Date.parse(i))/864e5,c=parseInt(o*e.stay.price);t.push(c)}}));var e=t.reduce((function(t,e){return t+e}),0);return Number(e).toLocaleString()},monthEarningToShow:function(){var t=[],e=["01","02","03","04","05","06","07","08","09","10","11","12"],s=new Date,a=e[s.getMonth()];this.myOrders.length>0&&this.myOrders.forEach((function(e){var s=e.dates.start.split("-")[1];if(s===a){var r=e.dates,i=r.start,n=r.end,o=(Date.parse(n)-Date.parse(i))/864e5,c=parseInt(o*e.stay.price);t.push(c)}}));var r=t.reduce((function(t,e){return t+e}),0);return Number(r).toLocaleString()},activeGuests:function(){var t=0;return this.myOrders.length>0&&this.myOrders.forEach((function(e){var s=e.dates,a=s.start,r=s.end,i=Date.now(),n=Date.parse(a),o=Date.parse(r);i<=o&&i>=n&&t++})),t},plannedGuests:function(){var t=0;return this.myOrders.length>0&&this.myOrders.forEach((function(e){var s=e.dates,a=s.start,r=s.end,i=Date.now(),n=Date.parse(a);Date.parse(r);i<n&&t++})),t},pastGuests:function(){var t=0;return this.myOrders.length>0&&this.myOrders.forEach((function(e){var s=e.dates,a=s.start,r=s.end,i=Date.now(),n=(Date.parse(a),Date.parse(r));i>n&&t++})),t}},methods:{showMyStays:function(){this.shouldShow="my stays"},showMyOrders:function(){this.shouldShow="my orders"},showMyRates:function(){this.shouldShow="my rates"}}},rr=ar,ir=Object(g["a"])(rr,Ra,Fa,!1,null,null,null),nr=ir.exports,or=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"user-account main-layout2"},[a("h1",[t._v("personal info")]),a("section",{staticClass:"main-user-details flex"},[a("section",{staticClass:"user-detials-info"},[a("div",{staticClass:"user-details-header flex"},[a("img",{staticClass:"host-img",attrs:{src:s("e458")("./"+t.currUser.imgUrl+".jpg")}}),a("div",{staticClass:"review-preview-text-container"},[a("h2",[t._v("Hi, i'm "+t._s(t.userFirstName))])])]),a("div",{staticClass:"full-name-container gray-box-shadow"},[a("h4",[t._v("Full name")]),a("p",[t._v(t._s(t.currUser.fullname))])]),a("div",{staticClass:"user-name-container gray-box-shadow"},[a("h4",[t._v("User name")]),a("p",[t._v(t._s(t.currUser.username))])]),a("div",{staticClass:"email-container gray-box-shadow"},[a("h4",[t._v("Email")]),a("p",[t._v(t._s(t.currUser.email))])]),a("button",{staticClass:"edit-info-btn"},[t._v("Edit")])]),t._m(0)])])},cr=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"general-info-container"},[s("div",{staticClass:"security info"},[s("h3",[t._v("Which details can be edited?")]),s("p",[t._v(" Details MiCasa uses to verify your identity can’t be changed. Contact info and some personal details can be edited, But we may ask you verify your identity the next time you book or create a listing. ")])]),s("div",{staticClass:"shared info"},[s("h3",[t._v("What info is shared with others?")]),s("p",[t._v(" MiCasa only releases contact information for hosts and guests after a reservation is confirmed. Your personal details will not be published ")])])])}],lr={name:"user-account",data:function(){return{currUser:null}},created:function(){var t=$e.getLoggedinUser();this.currUser=t},computed:{userFirstName:function(){var t=this.currUser.fullname.indexOf(" "),e=this.currUser.fullname.slice(0,t);return e}}},ur=lr,dr=Object(g["a"])(ur,or,cr,!1,null,null,null),pr=dr.exports,vr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"confirm-and-pay main-layout2"},[s("div",{staticClass:"details-and-pay"},[s("div",{staticClass:"trip-info"},[s("div",{staticClass:"header"},[s("router-link",{attrs:{to:""}},[s("div",{staticClass:"back-btn",on:{click:t.goBack}},[s("span",{staticClass:"material-icons-outlined"},[t._v(" chevron_left ")])])]),s("h2",[t._v("Confirm and pay")])],1),s("div",{staticClass:"your-trip"},[s("div",{staticClass:"title1"},[t._v("Your trip")]),s("div",{staticClass:"dates-section"},[s("div",{staticClass:"title2"},[t._v("Dates")]),s("div",{staticClass:"dates"},[t._v(t._s(this.dateFrom)+" - "+t._s(this.dateTo))])]),s("div",{staticClass:"guests-section"},[s("div",{staticClass:"title2"},[t._v("Guests")]),s("div",{staticClass:"guests"},[t._v(t._s(this.getTotalGuests)+" guests")])])]),s("div",{staticClass:"separator"}),s("div",{staticClass:"pay-with"},[t._m(0),s("el-select",{staticClass:"payment-select",attrs:{placeholder:"Select payment methods"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),s("a",{staticClass:"title2",attrs:{href:"http://"}},[t._v("Enter a coupon")])],1),s("div",{staticClass:"separator"}),s("div",{staticClass:"required"},[s("div",{staticClass:"title1"},[t._v("Required for your trip")]),s("div",{staticClass:"title2"},[t._v("Message the Host")]),s("div",{staticClass:"title3"},[t._v(" Let the Host know why you're traveling and when you'll check in. ")]),s("div",{staticClass:"host-message"},[s("img",{attrs:{src:this.order.host.imgUrl,alt:""}}),s("div",{staticClass:"host"},[s("div",{staticClass:"title2"},[t._v(t._s(this.order.host.fullname))]),s("p",{staticClass:"title3"},[t._v(" Hi"),s("br"),t._v(" My Name is "+t._s(this.order.host.fullname)+" and i'm Happy that you decided to book My apartment."),s("br"),t._v("Please let me know at what time you'll check in so i will wait for you with keys at the apartment."),s("br"),t._v("Thank you (: ")])])]),s("textarea",{attrs:{name:"user-message"}})]),s("div",{staticClass:"separator"}),t._m(1),s("div",{staticClass:"separator"}),s("div",{staticClass:"congrats"},[t._m(2),s("button",{staticClass:"confirm-btn",on:{click:t.setCongratsModal}},[t._v(" Confirm and pay ")])])]),s("div",{staticClass:"details-modal sticky"},[s("div",{staticClass:"modal-container"},[s("div",{staticClass:"stay-details-container"},[s("img",{attrs:{src:this.order.stay.imgUrls[0],alt:""}}),s("div",{staticClass:"details-flex"},[s("div",{staticClass:"stay-details"},[s("div",{staticClass:"title4"},[t._v(t._s(this.order.stay.propertyType))]),s("div",{staticClass:"title3"},[t._v(t._s(this.order.stay.name))])]),s("div",{staticClass:"reviews-preview"},[t._m(3),s("span",{staticClass:"review-avg"},[t._v(t._s(this.reviews)+"  ")]),s("span",{staticClass:"reviews-total"},[t._v("("+t._s(this.reviewsCount)+")")])])])]),s("div",{staticClass:"separator"}),s("div",{staticClass:"price-details-container"},[s("div",{staticClass:"title1"},[t._v("Price details")]),s("div",{staticClass:"price-detail"},[s("div",{staticClass:"title2"},[t._v(" $"+t._s(this.order.stay.price)+".00 x "+t._s(this.calculateTotalDays)+" nights ")]),s("div",{staticClass:"title2"},[t._v("$"+t._s(this.calculatePrice)+".00")])]),t._m(4),t._m(5),s("div",{staticClass:"price-detail"},[t._m(6),s("div",{staticClass:"title2 bold"},[t._v(" $"+t._s(this.calculatePriceWithFees)+".00 ")])])])])])]),t.congratsModal?s("div",{staticClass:"main-screen"}):t._e(),t.congratsModal?s("div",{staticClass:"congrats-modal-container"},[s("div",{staticClass:"congrats-modal"},[s("div",{staticClass:"closeModal"},[s("div",[s("router-link",{staticClass:"btn",attrs:{to:"/"}},[s("span",{staticClass:"material-icons"},[t._v(" close ")])])],1)]),s("div",{staticClass:"title"},[t._v("Order sent to host!")]),s("div",{staticClass:"title-1"},[t._v("Your host will reply shortly")]),s("div",{staticClass:"title-2"},[t._v(" You won't be charged until the host approves your order ")]),s("div",{staticClass:"separator"}),s("div",{staticClass:"links-container"},[s("router-link",{staticClass:"btn",attrs:{to:"/"}},[t._v("Home page ")]),s("router-link",{staticClass:"btn",attrs:{to:"/trips"}},[t._v("Share your stay ")])],1)])]):t._e()])},hr=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title-container"},[s("div",{staticClass:"title1"},[t._v("Pay with")]),s("div",{staticClass:"imgs"},[s("img",{attrs:{src:"https://res.cloudinary.com/djdkizcaq/image/upload/v1639056057/bnb-proj/Money%20Money%20Money/logo_visa.0adea522bb26bd90821a8fade4911913_vuvn32.svg",alt:""}}),s("img",{attrs:{src:"https://res.cloudinary.com/djdkizcaq/image/upload/v1639056057/bnb-proj/Money%20Money%20Money/logo_amex.84088b520ca1b3384cb71398095627da_ed7luy.svg",alt:""}}),s("img",{attrs:{src:"https://res.cloudinary.com/djdkizcaq/image/upload/v1639056057/bnb-proj/Money%20Money%20Money/logo_mastercard.f18379cf1f27d22abd9e9cf44085d149_nkxu5w.svg",alt:""}}),s("img",{attrs:{src:"https://res.cloudinary.com/djdkizcaq/image/upload/v1639056057/bnb-proj/Money%20Money%20Money/logo_discover.7f05c82f07d62a0f8a69d54dbcd7c8be_p2axcq.svg",alt:""}}),s("img",{attrs:{src:"https://res.cloudinary.com/djdkizcaq/image/upload/v1639056057/bnb-proj/Money%20Money%20Money/logo_paypal.faa3042fa2daf6b4a9822cc4b43e8609_l0ie4i.svg",alt:""}}),s("img",{attrs:{src:"https://res.cloudinary.com/djdkizcaq/image/upload/v1639056057/bnb-proj/Money%20Money%20Money/logo_googlepay.3f786bc031b59575d24f504dfb859da0_nfccnv.svg",alt:""}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cancell-policy"},[s("div",{staticClass:"title1"},[t._v("Cancellation policy")]),s("p",{staticClass:"title2"},[t._v(" Refundable: Free cancellation up to 24 hours before check-in. "),s("span",[t._v("Learn more")])]),s("p",[t._v(" Our Extenuating Circumstances policy does not cover travel disruptions caused by COVID-19. "),s("span",[t._v("Learn more")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"title4"},[t._v(" By selecting the button below, I agree to the "),s("span",[t._v("Host's House Rules")]),t._v(", "),s("span",[t._v("Kumba's COVID-19 Safety Requirements")]),t._v(" and the "),s("span",[t._v("Guest Refund Policy")]),t._v(". ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"star-preview"},[s("span",{staticClass:"material-icons-outlined"},[t._v("star")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"price-detail"},[s("div",{staticClass:"title2 underline"},[t._v("Cleaning fee")]),s("div",{staticClass:"title2"},[t._v("$0.00")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"price-detail"},[s("div",{staticClass:"title2 underline"},[t._v("Service fee")]),s("div",{staticClass:"title2 green"},[t._v("$25.00")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title2 bold"},[t._v(" Total "),s("span",{staticClass:"underline"},[t._v("(USD)")])])}],fr={name:"confirm-and-pay",data:function(){return{congratsModal:!1,options:[{value:"googlePay",label:"Google Pay"},{value:"payPal",label:"PayPal"},{value:"creditCard",label:"Credit or debit card"}],value:"Google Pay",order:null,totalGuests:null,dateFrom:null,dateTo:null,reviews:4.9,reviewsCount:34}},created:function(){var t="confirm";this.$store.commit({type:"setCurrPage",page:t})},computed:{calculateTotalDays:function(){var t=this.order.dates,e=t.start,s=t.end,a=(Date.parse(s)-Date.parse(e))/864e5;return a},calculatePrice:function(){var t=this.calculateTotalDays;return Number(parseInt(t*this.order.stay.price)).toLocaleString()},calculatePriceWithFees:function(){var t=this.calculateTotalDays;return Number(parseInt(t*this.order.stay.price+25)).toLocaleString()},fees:function(){return 25},getTotalGuests:function(){return this.totalGuests}},methods:{setCongratsModal:function(){console.log(this.congratsModal),this.congratsModal=!0,console.log(this.congratsModal)},goBack:function(){console.log(this.order.stay._id),this.$router.push("/stay/"+this.order.stay._id)},setDateFrom:function(t){var e=new Date(t),s=e.getFullYear(),a=e.getMonth()+1,r=e.getDate(),i=r+"/"+a+"/"+s;this.dateFrom=i},setDateTo:function(t){var e=new Date(t),s=e.getFullYear(),a=e.getMonth()+1,r=e.getDate(),i=r+"/"+a+"/"+s;this.dateTo=i},setReviews:function(){var t=0;return this.order.stay.reviews.forEach((function(e){var s=function(t){return Object.values(t).reduce((function(t,e){return t+e}))},a=s(e.rate),r=a/6;t+=r})),t/=this.stay.reviews.length,t.toFixed(1)}},watch:{"$route.params.orderId":{handler:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.$route.params.orderId,e.next=3,t.$store.dispatch({type:"getOrderById",orderId:s});case 3:a=e.sent,t.order=a,console.log(t.order),t.totalGuests=t.order.guests.adults+t.order.guests.children,t.setDateFrom(t.order.dates.start),t.setDateTo(t.order.dates.end),t.setReviews();case 10:case"end":return e.stop()}}),e)})))()},immediate:!0}}},gr=fr,mr=Object(g["a"])(gr,vr,hr,!1,null,null,null),yr=mr.exports,_r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Cr=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-layout2 confirm-page"},[s("div",{staticClass:"header"},[t._v("Congrats")]),s("div",{staticClass:"title"},[t._v("Your order is pending confirmation from the host")]),s("div",{staticClass:"title2"},[t._v("While you are waiting, plan your trip:")]),s("div",{staticClass:"more-todo"},[s("div",{staticClass:"todo"},[s("img",{attrs:{src:"https://www.lagos-milos.com/wp-content/uploads/2019/01/lagos_rent_a_car_milos_background.jpg"}}),s("h2",[t._v("Rent a car")])]),s("div",{staticClass:"todo"},[s("img",{attrs:{src:"https://www.futurity.org/wp/wp-content/uploads/2020/03/spending-on-experiences-versus-buying-things_1600.jpg"}}),s("h2",[t._v("Explore Experiences")])]),s("div",{staticClass:"todo"},[s("img",{attrs:{src:"https://image.freepik.com/free-vector/abstract-flat-map-city-plan-town-detailed-city-map_257312-609.jpg"}}),s("h2",[t._v("Learn more about Tel Aviv")])])])])}],br={name:"congrats-page",data:function(){return{}},created:function(){var t="congrats";this.$store.commit({type:"setCurrPage",page:t})},computed:{stays:function(){return this.$store.getters.staysToShow}}},wr=br,xr=Object(g["a"])(wr,_r,Cr,!1,null,null,null),kr=xr.exports,Or=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h1",[t._v("About Us")]),s("p",[t._v("We like You")]),s("h2",[t._v("Lets Chat About "+t._s(t.topic))]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.topic,expression:"topic"}],attrs:{type:"radio",value:"Politics"},domProps:{checked:t._q(t.topic,"Politics")},on:{change:[function(e){t.topic="Politics"},t.changeTopic]}}),t._v(" Politics ")]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.topic,expression:"topic"}],attrs:{type:"radio",value:"Love"},domProps:{checked:t._q(t.topic,"Love")},on:{change:[function(e){t.topic="Love"},t.changeTopic]}}),t._v(" Love ")]),s("ul",t._l(t.msgs,(function(e,a){return s("li",{key:a},[s("span",[t._v(t._s(e.from)+":")]),t._v(t._s(e.txt)+" ")])})),0),s("hr"),s("form",{on:{submit:function(e){return e.preventDefault(),t.sendMsg.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.msg.txt,expression:"msg.txt"}],attrs:{type:"text",placeholder:"Your msg"},domProps:{value:t.msg.txt},on:{input:function(e){e.target.composing||t.$set(t.msg,"txt",e.target.value)}}}),s("button",[t._v("Send")])])])},Sr=[],$r={data:function(){return{msg:{from:"Me",txt:""},msgs:[],topic:"Love"}},created:function(){F.emit("chat topic",this.topic),F.on("chat addMsg",this.addMsg)},destroyed:function(){F.off("chat addMsg",this.addMsg)},methods:{addMsg:function(t){this.msgs.push(t)},sendMsg:function(){console.log("Sending",this.msg),F.emit("chat newMsg",this.msg),this.msg={from:"Me",txt:""}},changeTopic:function(){F.emit("chat topic",this.topic)}}},Pr=$r,Tr=Object(g["a"])(Pr,Or,Sr,!1,null,null,null),Er=Tr.exports;r["default"].use(ut["a"]);var jr=[{path:"/",name:"home",component:gt},{path:"/about",name:"About",component:bt},{path:"/explore",name:"Explore",component:Zt},{path:"/stay/:stayId",name:"stay",component:ta},{path:"/login",name:"Login",component:zs},{path:"/host",name:"Host",component:na},{path:"/help",name:"help",component:pa},{path:"/messages",name:"User-messages",component:ya},{path:"/notifications",name:"User-notifications",component:ka},{path:"/trips",name:"User-trips",component:Ea},{path:"/wishlist",name:"User-wishlist",component:La},{path:"/dashboard",name:"Host-dashboard",component:nr},{path:"/account",name:"User-account",component:pr},{path:"/order-confirm/:orderId",name:"confirm",component:yr},{path:"/congrats/",name:"congratsPage",component:kr},{path:"/chat",name:"chat",component:Er}],Mr=new ut["a"]({routes:jr,scrollBehavior:function(t,e,s){return t.hash?new Promise((function(e,s){setTimeout((function(){e({selector:t.hash})}),300)})):new Promise((function(t,e){setTimeout((function(){t({x:0,y:0})}),300)}))}}),Ar=Mr,Ur=s("2f62"),Dr=s("5530"),Lr={state:{loggedinUser:null,notifications:[],users:[],watchedUser:null,notify:!1},getters:{users:function(t){var e=t.users;return e},loggedinUser:function(t){var e=t.loggedinUser;return e},watchedUser:function(t){var e=t.watchedUser;return e},notifications:function(t){var e=t.notifications;return e},notificationsCount:function(t){var e=t.notifications;return e.length},notify:function(t){var e=t.notify;return e},lastNotification:function(t){var e=t.notifications;return e[e.length-1]}},mutations:{killModal:function(t){t.notify=!1},newOrder:function(t,e){var s=e.order,a={from:{_id:s.buyer._id,fullname:s.buyer.fullname,imgUrl:s.buyer.imgUrl,stayName:s.stay.name},txt:"New order from "+s.buyer.fullname,createdAt:Date.now()};console.log("notification, yay!",a),t.notify=!0,t.notifications.push(a)},orderUpdated:function(t,e){var s=e.order,a={from:{_id:s.host._id,fullname:s.host.fullname,imgUrl:s.host.imgUrl,stayName:s.stay.name},txt:"Your order to ".concat(s.stay.name," has been approved by ").concat(s.host.fullname,"!"),createdAt:Date.now()};console.log("notification, yay!",a),t.notify=!0,t.notifications.push(a)},setUser:function(t,e){var s=e.user;t.loggedinUser=s},setLoggedinUser:function(t,e){var s=e.user;t.loggedinUser=s?Object(Dr["a"])({},s):null},setWatchedUser:function(t,e){var s=e.user;t.watchedUser=s},setUsers:function(t,e){var s=e.users;t.users=s}},actions:{setUser:function(t){var e=t.commit,s=$e.getLoggedinUser();e({type:"setUser",user:s})},toggleWishList:function(t,e){return Object(A["a"])(regeneratorRuntime.mark((function s(){var a,r,i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.stayId,s.prev=2,s.next=5,$e.getLoggedinUser();case 5:if(i=s.sent,i){s.next=8;break}return s.abrupt("return");case 8:n=i.wishList.findIndex((function(t){return t===r})),-1===n?i.wishList.push(r):i.wishList.splice(n,1),$e.update(i),a({type:"setUser",user:i}),s.next=18;break;case 14:throw s.prev=14,s.t0=s["catch"](2),console.log("Error in load user (user.store):",s.t0),s.t0;case 18:case"end":return s.stop()}}),s,null,[[2,14]])})))()},login:function(t,e){return Object(A["a"])(regeneratorRuntime.mark((function s(){var a,r,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.userCred,s.prev=2,s.next=5,$e.login(r);case 5:return i=s.sent,a({type:"setLoggedinUser",user:i}),s.abrupt("return",i);case 10:throw s.prev=10,s.t0=s["catch"](2),console.log("userStore: Error in login",s.t0),s.t0;case 14:case"end":return s.stop()}}),s,null,[[2,10]])})))()},signup:function(t,e){return Object(A["a"])(regeneratorRuntime.mark((function s(){var a,r,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.userCred,s.prev=2,s.next=5,$e.signup(r);case 5:return i=s.sent,a({type:"setLoggedinUser",user:i}),s.abrupt("return",i);case 10:throw s.prev=10,s.t0=s["catch"](2),console.log("userStore: Error in signup",s.t0),s.t0;case 14:case"end":return s.stop()}}),s,null,[[2,10]])})))()},logout:function(t){return Object(A["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,e.next=4,$e.logout();case 4:s({type:"setLoggedinUser",user:null}),e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),console.log("userStore: Error in logout",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))()},loadUsers:function(t){return Object(A["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,e.next=4,$e.getUsers();case 4:a=e.sent,s({type:"setUsers",users:a}),e.next=12;break;case 8:throw e.prev=8,e.t0=e["catch"](1),console.log("userStore: Error in loadUsers",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},loadAndWatchUser:function(t,e){return Object(A["a"])(regeneratorRuntime.mark((function s(){var a,r,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.userId,s.prev=2,s.next=5,$e.getById(r);case 5:i=s.sent,a({type:"setWatchedUser",user:i}),socketService.emit(SOCKET_EMIT_USER_WATCH,r),socketService.off(SOCKET_EVENT_USER_UPDATED),socketService.on(SOCKET_EVENT_USER_UPDATED,(function(t){a({type:"setWatchedUser",user:t})})),s.next=16;break;case 12:throw s.prev=12,s.t0=s["catch"](2),console.log("userStore: Error in loadAndWatchUser",s.t0),s.t0;case 16:case"end":return s.stop()}}),s,null,[[2,12]])})))()},updateUser:function(t,e){return Object(A["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.user,s.prev=2,s.next=5,$e.update(r);case 5:r=s.sent,a({type:"setUser",user:r}),s.next=13;break;case 9:throw s.prev=9,s.t0=s["catch"](2),console.log("userStore: Error in updateUser",s.t0),s.t0;case 13:case"end":return s.stop()}}),s,null,[[2,9]])})))()}}},Rr="ordersDB",Fr=[{_id:"61b08a52dcbbeca56bd8c366",dates:{start:"2022-01-06",end:"2022-01-07"},guests:{children:null,adults:1},createdAt:1638812943485,buyer:{_id:"61b064aedcbbeca56bcf1738",fullname:"yami kobin"},stay:{_id:"61af1eed3d91ca3df5b407e7",name:"Dream House",price:160},hostId:"61b064d3dcbbeca56bcf1df1",status:"pending"},{_id:"61b08a52dcbbeca56bd8c367",dates:{start:"2022-01-08",end:"2022-01-09"},guests:{children:null,adults:1},createdAt:1638812943485,buyer:{_id:"61b064aedcbbeca56bcf1738",fullname:"Ali Adadof"},stay:{_id:"61af1eed3d91ca3df5b407e5",name:"Fly's House",price:100},hostId:"61b064d3dcbbeca56bcf1df1",status:"pending"},{_id:"61b08a52dcbbeca56bd8c368",dates:{start:"2021-10-10",end:"2021-12-12"},guests:{children:null,adults:1},createdAt:1638812943485,buyer:{_id:"61b064aedcbbeca56bcf1738",fullname:"Adi ababa"},stay:{_id:"61af1eed3d91ca3df5b407e6",name:"Modern House",price:160},hostId:"61b064d3dcbbeca56bcf1df1",status:"pending"}],Br={add:Gr,query:Ir,getById:Yr,demoQuery:Hr,remove:Vr,save:zr};function Ir(t){return Nr.apply(this,arguments)}function Nr(){return Nr=Object(A["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e?"?id=".concat(e._id):"",t.abrupt("return",xe.get("order".concat(s)));case 2:case"end":return t.stop()}}),t)}))),Nr.apply(this,arguments)}function Hr(){return Fr}function Gr(t){return Wr.apply(this,arguments)}function Wr(){return Wr=Object(A["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xe.post("order",e);case 2:return s=t.sent,t.abrupt("return",s);case 4:case"end":return t.stop()}}),t)}))),Wr.apply(this,arguments)}function Yr(t){return xe.get("order/".concat(t))}function zr(t){return Jr.apply(this,arguments)}function Jr(){return Jr=Object(A["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xe.put("order/".concat(e._id),e);case 2:return s=t.sent,console.log(s),t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)}))),Jr.apply(this,arguments)}function Vr(t){return pe.remove(Rr,t)}var qr={state:{currTrip:{guests:{children:null,adults:0},destination:"",dates:{}},currOrder:{},orders:[]},getters:{getDest:function(t){return t.currTrip.destination},getGuests:function(t){return t.currTrip.guests},getDates:function(t){return t.currTrip.dates},getCurrTrip:function(t){return t.currTrip},getOrders:function(t){return t.orders},getDemoOrders:function(t){return t.demoOrders},getCurrOrder:function(t){return console.log(t.currOrder),t.currOrder}},mutations:{setTrip:function(t,e){var s=e.trip;console.log(s),t.currTrip=s},setOrders:function(t,e){var s=e.orders;t.orders=s},setDemoOrders:function(t,e){var s=e.demoOrders;t.demoOrders=s},addOrder:function(t,e){var s=e.order;t.orders.push(s),console.log(t.orders)},updateOrder:function(t,e){var s=t.orders.findIndex((function(t){return t._id===e.order._id}));t.orders.splice(s,1,e.order)},removeOrder:function(t,e){var s=t.orders.findIndex((function(t){return t._id===e.orderId}));t.orders.splice(s,1)},setOrderById:function(t,e){var s=e.order;t.currOrder=s,console.log(t.currOrder)}},actions:{loadOrders:function(t){return Object(A["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,t.state,s({type:"setLoading",isLoading:!0}),e.prev=2,e.next=5,Br.query();case 5:a=e.sent,s({type:"setOrders",orders:a}),console.log(a),F.off(D),F.on(D,(function(t){console.log("New order!",t),s({type:"addOrder",order:t}),s({type:"newOrder",order:t})})),F.off(L),F.on(L,(function(t){console.log("Order updated!",t),s({type:"updateOrder",order:t}),s({type:"orderUpdated",order:t})})),e.next=18;break;case 14:throw e.prev=14,e.t0=e["catch"](2),console.log("orderStore: Error in loadOrders",e.t0),e.t0;case 18:return e.prev=18,s({type:"setLoading",isLoading:!1}),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[2,14,18,21]])})))()},updateOrder:function(t,e){var s=t.commit,a=e.order;return console.log(a),Br.save(a).then((function(t){return s({type:"updateOrder",order:t}),console.log(t),t}))},loadDemoOrders:function(t){var e=t.commit,s=(t.state,Br.demoQuery());e({type:"setDemoOrders",demoOrders:s})},addOrder:function(t,e){return Object(A["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.order,s.prev=2,s.next=5,Br.add(r);case 5:return r=s.sent,a({type:"addOrder",order:r}),s.abrupt("return",r);case 10:s.prev=10,s.t0=s["catch"](2),console.log("orderStore: error in addOrder",s.t0);case 13:case"end":return s.stop()}}),s,null,[[2,10]])})))()},getOrderById:function(t,e){return Object(A["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.commit,a=e.orderId,s.next=4,Br.getById(a);case 4:return r=s.sent,s.abrupt("return",r);case 6:case"end":return s.stop()}}),s)})))()},removeOrder:function(t,e){var s=t.commit,a=e.orderId;return Br.remove(a).then((function(){s({type:"removeOrder",orderId:a})}))}}},Xr=(s("00b4"),{query:Zr,getById:Qr,remove:ti,save:ei});function Zr(t){return Kr.apply(this,arguments)}function Kr(){return Kr=Object(A["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",xe.get("stay"));case 1:case"end":return t.stop()}}),t)}))),Kr.apply(this,arguments)}function Qr(t){return xe.get("stay/".concat(t))}function ti(t){return xe.delete("user/".concat(t))}function ei(t){return si.apply(this,arguments)}function si(){return si=Object(A["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e._id){t.next=6;break}return t.next=3,xe.put("stay",e);case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,xe.post("stay",e);case 8:t.t0=t.sent;case 9:return s=t.t0,t.abrupt("return",s);case 11:case"end":return t.stop()}}),t)}))),si.apply(this,arguments)}var ai={state:{isLoading:!1,stays:[],currStay:null,filterBy:{price:{min:0,max:1e3},typeOfPlace:[],labels:[]}},getters:Object(d["a"])({staysToShow:function(t,e){console.log(t.filterBy);var s=e.getCurrTrip,a=s.destination,r=(s.guests,s.dates,t.stays);if(a){var i=new RegExp(a,"i");r=r.filter((function(t){return i.test(t.loc.city)}))}var n=t.filterBy.labels;n.length&&(console.log(n),r=r.filter((function(t){var e=t.amenities.map((function(t){return t.name}));if(n.every((function(t){return e.includes(t)})))return!0})));var o=t.filterBy.price.min,c=t.filterBy.price.max;r=r.filter((function(t){return t.price>=o&&t.price<=c}));var l=t.filterBy.typeOfPlace;return l.length>0&&(r=r.filter((function(t){return t.propertyType.includes(l)})),console.log(r)),r},getCurrStay:function(t){return JSON.parse(JSON.stringify(t.currStay))},isLoading:function(t){var e=t.isLoading;return e}},"isLoading",(function(t){var e=t.isLoading;return e})),mutations:{setStays:function(t,e){var s=e.stays;t.stays=s},setCurrStay:function(t,e){var s=e.stay;t.currStay=s,console.log("currStay",t.currStay)},setFilter:function(t,e){var s=e.filterBy;t.filterBy=s},setLoading:function(t,e){var s=e.isLoading;t.isLoading=s}},actions:{loadStays:function(t){return Object(A["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,t.state,s({type:"setLoading",isLoading:!0}),e.prev=2,e.next=5,Xr.query();case 5:a=e.sent,s({type:"setStays",stays:a}),e.next=13;break;case 9:throw e.prev=9,e.t0=e["catch"](2),console.log("Error in query stays (store)",e.t0),e.t0;case 13:return e.prev=13,s({type:"setLoading",isLoading:!1}),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})))()},setCurrStay:function(t,e){return Object(A["a"])(regeneratorRuntime.mark((function s(){var a,r,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.stayId,s.prev=2,s.next=5,Xr.getById(r);case 5:return i=s.sent,a({type:"setCurrStay",stay:i}),s.abrupt("return",i);case 10:throw s.prev=10,s.t0=s["catch"](2),console.log("Error in getting stay ".concat(r),s.t0),s.t0;case 14:case"end":return s.stop()}}),s,null,[[2,10]])})))()}}};r["default"].use(Ur["a"]);var ri=new Ur["a"].Store({state:{currPage:"homePage"},getters:{currPage:function(t){return t.currPage}},mutations:{setCurrPage:function(t,e){var s=e.page;t.currPage=s,console.log(t.currPage)}},actions:{},modules:{userStore:Lr,orderStore:qr,stayStore:ai}}),ii=(s("d347"),s("5c96")),ni=s.n(ii),oi=(s("0fae"),s("4897")),ci=s.n(oi),li=s("b2d6"),ui=s.n(li),di=s("5887"),pi=s.n(di),vi=s("440b"),hi=s.n(vi);s("066c");r["default"].config.productionTip=!1,r["default"].use(ni.a),r["default"].use(pi.a),ci.a.use(ui.a),r["default"].component(hi.a.name,hi.a),new r["default"]({router:Ar,store:ri,render:function(t){return t(ct)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";s("9c0c")},6903:function(t,e,s){t.exports=s.p+"img/18.d2b18f4c.jpg"},9073:function(t,e,s){t.exports=s.p+"img/wp25.cd96f4d0.jpg"},"9c0c":function(t,e,s){},"9cd0":function(t,e,s){t.exports=s.p+"img/11.d80a2b3e.jpg"},a1b4:function(t,e,s){t.exports=s.p+"img/9.6e455909.jpg"},afa4:function(t,e,s){t.exports=s.p+"img/12.2214c773.jpg"},bb9f:function(t,e,s){},be5f:function(t,e,s){t.exports=s.p+"img/NY2.e1a358bc.jpg"},ce36:function(t,e,s){t.exports=s.p+"img/review-avatar.54e9ec53.png"},d347:function(t,e,s){},df47:function(t,e,s){t.exports=s.p+"img/6.908c79fd.jpg"},e276:function(t,e,s){t.exports=s.p+"img/tr2.2ca89031.jpeg"},e458:function(t,e,s){var a={"./1.jpg":"3c88","./10.jpg":"5407","./11.jpg":"9cd0","./12.jpg":"afa4","./13.jpg":"360d","./14.jpg":"3984","./15.jpg":"237f","./16.jpg":"362e","./17.jpg":"2b9d","./18.jpg":"6903","./19.jpg":"1e89","./2.jpg":"ea14","./20.jpg":"0f5f","./3.jpg":"0279","./4.jpg":"3f63","./5.jpg":"409f","./6.jpg":"df47","./7.jpg":"e977","./8.jpg":"f98e","./9.jpg":"a1b4"};function r(t){var e=i(t);return s(e)}function i(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=i,t.exports=r,r.id="e458"},e977:function(t,e,s){t.exports=s.p+"img/7.7c050ad6.jpg"},ea14:function(t,e,s){t.exports=s.p+"img/2.9d7e05f8.jpg"},f98e:function(t,e,s){t.exports=s.p+"img/8.2144ee07.jpg"},fe7a:function(t,e,s){t.exports=s.p+"img/tr3.72ce391c.jpeg"}});
//# sourceMappingURL=app.d585680b.js.map